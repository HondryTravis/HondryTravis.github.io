"use strict";(self.webpackChunkhondrytravis_blog=self.webpackChunkhondrytravis_blog||[]).push([[8228,1095],{3905:function(e,t,n){n.d(t,{Zo:function(){return s},kt:function(){return y}});var r=n(7294);function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(Object(n),!0).forEach((function(t){i(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function p(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var l=r.createContext({}),c=function(e){var t=r.useContext(l),n=t;return e&&(n="function"==typeof e?e(t):o(o({},t),e)),n},s=function(e){var t=c(e.components);return r.createElement(l.Provider,{value:t},e.children)},u={inlineCode:"code",wrapper:function(e){var t=e.children;return r.createElement(r.Fragment,{},t)}},d=r.forwardRef((function(e,t){var n=e.components,i=e.mdxType,a=e.originalType,l=e.parentName,s=p(e,["components","mdxType","originalType","parentName"]),d=c(n),y=i,m=d["".concat(l,".").concat(y)]||d[y]||u[y]||a;return n?r.createElement(m,o(o({ref:t},s),{},{components:n})):r.createElement(m,o({ref:t},s))}));function y(e,t){var n=arguments,i=t&&t.mdxType;if("string"==typeof e||i){var a=n.length,o=new Array(a);o[0]=d;var p={};for(var l in t)hasOwnProperty.call(t,l)&&(p[l]=t[l]);p.originalType=e,p.mdxType="string"==typeof e?e:i,o[1]=p;for(var c=2;c<a;c++)o[c]=n[c];return r.createElement.apply(null,o)}return r.createElement.apply(null,n)}d.displayName="MDXCreateElement"},8864:function(e,t,n){n.r(t),n.d(t,{frontMatter:function(){return p},contentTitle:function(){return l},metadata:function(){return c},toc:function(){return s},HighLight:function(){return u},HighLightInline:function(){return d},RectInline:function(){return y},default:function(){return g}});var r=n(3117),i=n(102),a=(n(7294),n(3905)),o=["components"],p={},l=void 0,c={unversionedId:"common/index",id:"common/index",isDocsHomePage:!1,title:"index",description:");",source:"@site/packages/docs/common/index.mdx",sourceDirName:"common",slug:"/common/index",permalink:"/docs/common/index",editUrl:"https://github.com/HondryTravis/Blog/tree/master/packages/docs/common/index.mdx",tags:[],version:"current",lastUpdatedBy:"travis",lastUpdatedAt:1670325249,formattedLastUpdatedAt:"2022/12/6",frontMatter:{}},s=[],u=function(e){var t=e.children,n=e.color;return(0,a.kt)("p",{style:{color:n||"red"}},t)},d=function(e){var t=e.children,n=e.color;return(0,a.kt)("span",{style:{color:n||"red"}},t)},y=function(e){var t=e.url,n=e.left;return(0,a.kt)("span",{style:{display:"inline-block",height:"20px",width:"20px",marginLeft:(n||0)+"px",background:"url("+t+")",backgroundSize:"cover"}})},m={toc:s,HighLight:u,HighLightInline:d,RectInline:y};function g(e){var t=e.components,n=(0,i.Z)(e,o);return(0,a.kt)("wrapper",(0,r.Z)({},m,n,{components:t,mdxType:"MDXLayout"}))}g.isMDXComponent=!0},6264:function(e,t,n){n.r(t),n.d(t,{frontMatter:function(){return p},contentTitle:function(){return l},metadata:function(){return c},toc:function(){return s},default:function(){return d}});var r=n(3117),i=n(102),a=(n(7294),n(3905)),o=(n(8864),["components"]),p={title:"TS | \u5185\u7f6e\u5b9e\u7528\u7c7b\u578b"},l=void 0,c={unversionedId:"typescript/ts_utility_types",id:"typescript/ts_utility_types",isDocsHomePage:!1,title:"TS | \u5185\u7f6e\u5b9e\u7528\u7c7b\u578b",description:"Partial",source:"@site/packages/docs/typescript/ts_utility_types.mdx",sourceDirName:"typescript",slug:"/typescript/ts_utility_types",permalink:"/docs/typescript/ts_utility_types",editUrl:"https://github.com/HondryTravis/Blog/tree/master/packages/docs/typescript/ts_utility_types.mdx",tags:[],version:"current",lastUpdatedBy:"travis",lastUpdatedAt:1670325249,formattedLastUpdatedAt:"2022/12/6",frontMatter:{title:"TS | \u5185\u7f6e\u5b9e\u7528\u7c7b\u578b"},sidebar:"docs",previous:{title:"\u535a\u5ba2",permalink:"/docs/"},next:{title:"TS | \u7279\u6b8a\u64cd\u4f5c\u7b26",permalink:"/docs/typescript/ts_operator"}},s=[{value:"<code>Partial&lt;Type&gt;</code>",id:"partialtype",children:[],level:2},{value:"<code>Required&lt;Type&gt;</code>",id:"requiredtype",children:[],level:2},{value:"<code>Readonly&lt;Type&gt;</code>",id:"readonlytype",children:[],level:2},{value:"<code>Record&lt;Keys,Type&gt;</code>",id:"recordkeystype",children:[],level:2},{value:"<code>Pick&lt;Type, Keys&gt;</code>",id:"picktype-keys",children:[],level:2},{value:"<code>Omit&lt;Type, Keys&gt;</code>",id:"omittype-keys",children:[],level:2},{value:"<code>Exclude&lt;Type, ExcludedUnion&gt;</code>",id:"excludetype-excludedunion",children:[],level:2},{value:"<code>Extract&lt;Type, Union&gt;</code>",id:"extracttype-union",children:[],level:2},{value:"<code>NonNullable&lt;Type&gt;</code>",id:"nonnullabletype",children:[],level:2},{value:"<code>Parameters&lt;Type&gt;</code>",id:"parameterstype",children:[],level:2},{value:"<code>ConstructorParameters&lt;Type&gt;</code>",id:"constructorparameterstype",children:[],level:2},{value:"<code>ReturnType&lt;Type&gt;</code>",id:"returntypetype",children:[],level:2},{value:"<code>InstanceType&lt;Type&gt;</code>",id:"instancetypetype",children:[],level:2},{value:"\u53c2\u8003\u94fe\u63a5",id:"\u53c2\u8003\u94fe\u63a5",children:[],level:2}],u={toc:s};function d(e){var t=e.components,n=(0,i.Z)(e,o);return(0,a.kt)("wrapper",(0,r.Z)({},u,n,{components:t,mdxType:"MDXLayout"}),(0,a.kt)("h2",{id:"partialtype"},(0,a.kt)("inlineCode",{parentName:"h2"},"Partial<Type>")),(0,a.kt)("p",null,"\u53ef\u4ee5\u5c06\u539f\u672c\u5fc5\u8981\u9700\u8981\u7c7b\u578b\u53d8\u4e3a\u53ef\u9009\u5c5e\u6027\u7684\u7c7b\u578b"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-ts"},'interface IState {\n  title: string;\n  description: string;\n}\nfunction test(state: IState, newState: Partial<IState>) {\n  return { ...state, ...newState };\n}\n\nconst state: IState = {\n  title: "\u6d4b\u8bd5",\n  description: "\u8fd9\u662f\u4e00\u4e2a\u6d4b\u8bd5"\n}\nconst newState: Partial<IState> = {\n  title: "\u66f4\u65b0\u6d4b\u8bd5"\n}\n// \u5f53\u7136\u4e5f\u53ef\u4ee5\u76f4\u63a5\u4fee\u6539 interface \u521d\u59cb\u5b9a\u4f4d\u7684\u65f6\u5019\n\ninterface IState {\n  title?: string;\n  description?: string;\n}\n\n')),(0,a.kt)("h2",{id:"requiredtype"},(0,a.kt)("inlineCode",{parentName:"h2"},"Required<Type>")),(0,a.kt)("p",null,"Required \u548c Partial \u76f8\u53cd\uff0c\u628a\u4e4b\u524d\u7684\u53ef\u9009\u7c7b\u578b\u5168\u90e8\u53d8\u4e3a\u5fc5\u8981\u9700\u8981\u7c7b\u578b"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-ts"},'interface Props {\n  a?: number;\n  b?: string;\n}\nconst obj: Props = { a: 5 };\nconst obj2: Required<Props> = { a: 5 };\n// \u7c7b\u578b "{ a: number; }" \u4e2d\u7f3a\u5c11\u5c5e\u6027 "b"\uff0c\u4f46\u7c7b\u578b "Required<Props>" \u4e2d\u9700\u8981\u8be5\u5c5e\u6027\n')),(0,a.kt)("h2",{id:"readonlytype"},(0,a.kt)("inlineCode",{parentName:"h2"},"Readonly<Type>")),(0,a.kt)("p",null,"\u6784\u5efa\u5177\u6709\u53ea\u8bfb\u7684\u7c7b\u578b\uff0c\u65e0\u6cd5\u4fee\u6539"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-ts"},'interface ITest {\n  id: number;\n}\nconst todo: Readonly<ITest> = {\n  id: 6789,\n};\ntodo.id = 434 // \u65e0\u6cd5\u5206\u914d\u5230 "id" \uff0c\u56e0\u4e3a\u5b83\u662f\u53ea\u8bfb\u5c5e\u6027\n')),(0,a.kt)("h2",{id:"recordkeystype"},(0,a.kt)("inlineCode",{parentName:"h2"},"Record<Keys,Type>")),(0,a.kt)("p",null,"\u53ef\u4ee5\u7ea6\u675f\u5bf9\u8c61\u7684 key, props \u7684\u7c7b\u578b"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-ts"},"\ntype IBook = 'yuwen' | 'math'\n\ninterface IProp {\n  price: number;\n  page_number: number;\n  publish?: string;\n}\n\nconst math: Record<IBook, IProp> = {\n  yuwen: {\n    price: 29,\n    page_number: 200\n  },\n  math: {\n    price: 49,\n    page_number: 100\n  }\n}\nmath.yuwen\n")),(0,a.kt)("h2",{id:"picktype-keys"},(0,a.kt)("inlineCode",{parentName:"h2"},"Pick<Type, Keys>")),(0,a.kt)("p",null,"\u53ef\u4ee5\u53d6\u51fa\u9009\u62e9\u7684\u7c7b\u578b\u58f0\u660e\u4e2d\u7684\u51e0\u4e2a\u5b57\u6bb5\u751f\u6210\u4e00\u4e2a\u65b0\u7684\u7c7b\u578b"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-ts"},'interface IBook {\n  title: string;\n  description: string;\n  price: number;\n}\ntype IBuyBook = Pick<IBook, "title" | "price">;\n\nconst buy: IBuyBook = {\n  title:\'typescript\',\n  price: 55\n}\nbuy;\n')),(0,a.kt)("h2",{id:"omittype-keys"},(0,a.kt)("inlineCode",{parentName:"h2"},"Omit<Type, Keys>")),(0,a.kt)("p",null,"\u53ef\u4ee5\u590d\u5236\u539f\u6709\u7c7b\u578b\uff0c \u5e76\u4e14\u79fb\u51fa\u6389\u4e0d\u9700\u8981\u7684\u5c5e\u6027\u751f\u6210\u65b0\u7684\u7c7b\u578b"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-ts"},"interface IBook {\n  title: string;\n  description: string;\n  price: number;\n  publish: string;\n  author: string;\n}\ntype IPreview = Omit<IBook, \"author\" | \"price\">\ntype IPrice = Omit<IBook, \"author\" | \"description\" >\nconst yuwen: IPreview = {\n  title: 'yuwen',\n  description: '\u8bed\u6587',\n  publish: 'china'\n}\n\nconst math: IPrice = {\n  title: 'yuwen',\n  price: 23,\n  publish: 'china'\n}\n")),(0,a.kt)("h2",{id:"excludetype-excludedunion"},(0,a.kt)("inlineCode",{parentName:"h2"},"Exclude<Type, ExcludedUnion>")),(0,a.kt)("p",null,"\u901a\u8fc7\u6392\u9664\u7279\u5b9a\u7684\u7c7b\u578b\uff0c \u751f\u6210\u65b0\u7684\u4e00\u4e2a\u7c7b\u578b"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-ts"},"type IPrice = Exclude< number | string | (()=> number ), Function>\n// type IPrice = number | string\ntype IName = Exclude< '\u5c0f\u674e' | '\u5c0f\u5f20' | (()=> string), Function>\n// type IName = '\u5c0f\u674e' | '\u5c0f\u5f20'\n")),(0,a.kt)("h2",{id:"extracttype-union"},(0,a.kt)("inlineCode",{parentName:"h2"},"Extract<Type, Union>")),(0,a.kt)("p",null,"\u4e0e Exclude \u7c7b\u578b\u76f8\u53cd\uff0c\u901a\u8fc7\u5339\u914d\u4e24\u8005\u4e4b\u95f4\u7684\u4ea4\u96c6\u751f\u6210\u4e00\u4e2a\u65b0\u7684\u4ea4\u96c6\u7c7b\u578b"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-ts"},"type IPrice = Extract< number | string | (()=> number ), string | boolean>\n// type IPrice = string\ntype IName = Extract< '\u5c0f\u674e' | '\u5c0f\u5f20' | (()=> string), '\u5c0f\u5f20'| '\u5c0f\u674e' | boolean>\n// type IName = '\u5c0f\u5f20'| '\u5c0f\u674e'\n")),(0,a.kt)("h2",{id:"nonnullabletype"},(0,a.kt)("inlineCode",{parentName:"h2"},"NonNullable<Type>")),(0,a.kt)("p",null,"\u6392\u9664\u65e0\u7528\u503c\u5c5e\u6027\uff0c\u751f\u6210\u4e00\u4e2a\u65b0\u7684\u7c7b\u578b\u3002\u6bd4\u5982 ",(0,a.kt)("inlineCode",{parentName:"p"},"undefined"),",",(0,a.kt)("inlineCode",{parentName:"p"},"null")),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-ts"},"type IPrice = NonNullable< number | string | undefined | null>\n// type IPrice = number | string\n")),(0,a.kt)("h2",{id:"parameterstype"},(0,a.kt)("inlineCode",{parentName:"h2"},"Parameters<Type>")),(0,a.kt)("p",null,"\u901a\u8fc7\u51fd\u6570\u53c2\u6570\u6784\u5efa\u7684\u4e00\u4e2a\u6570\u7ec4\u7c7b\u578b, \u6ce8\u610f: string, boolean, Function \u4e0d\u6ee1\u8db3\u7ea6\u675f\u8981\u6c42"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-ts"},"declare function f1(arg: { a: number; b: string }): void;\n\ntype T0 = Parameters<() => string>;\n// type T0 = []\ntype T1 = Parameters<(s: string) => string>;\n// type T1 = [s: string]\ntype T2 = Parameters< <K>(args: K) => K>;\n// type T2 = [args: unkonw]\ntype T3 = Parameters< typeof f1>\n// type T3 = [args: {a: number, b: string}]\ntype T4 = Parameters<any>;\n// type T4 = unknow[]\ntype T5 = Parameters<never>;\n// type T5 = never\n")),(0,a.kt)("h2",{id:"constructorparameterstype"},(0,a.kt)("inlineCode",{parentName:"h2"},"ConstructorParameters<Type>")),(0,a.kt)("p",null,"\u901a\u8fc7\u7279\u6b8a\u7684\u6784\u5efa\u5668\u51fd\u6570\u6784\u9020\u6570\u7ec4\u7c7b\u578b, \u4e0d\u652f\u6301 Function \u7c7b\u578b"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-ts"},"type T0 = ConstructorParameters<FunctionConstructor>\n// type T0 = string[]\ntype T1 = ConstructorParameters<ErrorConstructor>\n// type T1 = [message?: string]\ntype T2 = ConstructorParameters<ObjectConstructor> // | NumberConstructor | BooleanConstructor | StringConstructor\n// type T2 = [value?: any]\ntype T3 = ConstructorParameters<RegExpConstructor>\n// type T3 = [pattern: string | RegExp, flags?: string]\ntype T4 = ConstructorParameters<any>\n// type T4 = unknown[]\n")),(0,a.kt)("h2",{id:"returntypetype"},(0,a.kt)("inlineCode",{parentName:"h2"},"ReturnType<Type>")),(0,a.kt)("p",null,"\u6784\u5efa\u51fd\u6570\u8fd4\u56de\u503c\u7ec4\u6210\u7684\u7c7b\u578b"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-ts"},"declare function fn(): { a: number; b: string, c: Function };\n\ntype T0 = ReturnType<() => string>;\n// type T0 = string\ntype T1 = ReturnType<(s: string) => void>;\n// type T1 = void\ntype T2 = ReturnType<<T>() => T>;\n// type T2 = unknown\ntype T3 = ReturnType<<T extends U, U extends string[]>() => T>;\n// type T3 = string[]\ntype T4 = ReturnType<typeof fn>\n// type T4 = {\n//     a: number;\n//     b: string;\n//     c: Function;\n// }\n")),(0,a.kt)("h2",{id:"instancetypetype"},(0,a.kt)("inlineCode",{parentName:"h2"},"InstanceType<Type>")),(0,a.kt)("p",null,"\u7531\u6784\u9020\u51fd\u6570\u5b9e\u4f8b\u6784\u6210\u7684\u7c7b\u578b, \u4e0d\u652f\u6301 string, number, boolean, Function, Symbol"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-ts"},"class K {\n  constructor(){}\n  x = 0;\n  y = 0;\n}\ntype T0 = InstanceType<typeof K>\n// type T0 = K\n\n")),(0,a.kt)("h2",{id:"\u53c2\u8003\u94fe\u63a5"},"\u53c2\u8003\u94fe\u63a5"),(0,a.kt)("p",null,(0,a.kt)("a",{parentName:"p",href:"https://www.typescriptlang.org/docs/handbook/utility-types.html"},"TS \u5b98\u7f51 utility-types")))}d.isMDXComponent=!0}}]);