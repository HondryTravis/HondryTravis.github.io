"use strict";(self.webpackChunkhondrytravis_blog=self.webpackChunkhondrytravis_blog||[]).push([[4579],{3905:function(e,n,t){t.d(n,{Zo:function(){return u},kt:function(){return d}});var r=t(7294);function l(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function o(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function a(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?o(Object(t),!0).forEach((function(n){l(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):o(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function c(e,n){if(null==e)return{};var t,r,l=function(e,n){if(null==e)return{};var t,r,l={},o=Object.keys(e);for(r=0;r<o.length;r++)t=o[r],n.indexOf(t)>=0||(l[t]=e[t]);return l}(e,n);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)t=o[r],n.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(l[t]=e[t])}return l}var i=r.createContext({}),s=function(e){var n=r.useContext(i),t=n;return e&&(t="function"==typeof e?e(n):a(a({},n),e)),t},u=function(e){var n=s(e.components);return r.createElement(i.Provider,{value:n},e.children)},p={inlineCode:"code",wrapper:function(e){var n=e.children;return r.createElement(r.Fragment,{},n)}},m=r.forwardRef((function(e,n){var t=e.components,l=e.mdxType,o=e.originalType,i=e.parentName,u=c(e,["components","mdxType","originalType","parentName"]),m=s(t),d=l,f=m["".concat(i,".").concat(d)]||m[d]||p[d]||o;return t?r.createElement(f,a(a({ref:n},u),{},{components:t})):r.createElement(f,a({ref:n},u))}));function d(e,n){var t=arguments,l=n&&n.mdxType;if("string"==typeof e||l){var o=t.length,a=new Array(o);a[0]=m;var c={};for(var i in n)hasOwnProperty.call(n,i)&&(c[i]=n[i]);c.originalType=e,c.mdxType="string"==typeof e?e:l,a[1]=c;for(var s=2;s<o;s++)a[s]=t[s];return r.createElement.apply(null,a)}return r.createElement.apply(null,t)}m.displayName="MDXCreateElement"},8804:function(e,n,t){t.r(n),t.d(n,{frontMatter:function(){return c},contentTitle:function(){return i},metadata:function(){return s},toc:function(){return u},default:function(){return m}});var r=t(3117),l=t(102),o=(t(7294),t(3905)),a=["components"],c={title:"JS | \u624b\u5199\u7cfb\u5217"},i=void 0,s={unversionedId:"typescript/implement_list",id:"typescript/implement_list",isDocsHomePage:!1,title:"JS | \u624b\u5199\u7cfb\u5217",description:"\u53ea\u662f\u4f1a\u7528\u53ef\u4e0d\u884c\uff0c\u5982\u4f55\u5b9e\u73b0\uff1f",source:"@site/packages/docs/typescript/implement_list.md",sourceDirName:"typescript",slug:"/typescript/implement_list",permalink:"/docs/typescript/implement_list",editUrl:"https://github.com/HondryTravis/Blog/tree/master/packages/docs/typescript/implement_list.md",tags:[],version:"current",lastUpdatedBy:"travis",lastUpdatedAt:1670325249,formattedLastUpdatedAt:"2022/12/6",frontMatter:{title:"JS | \u624b\u5199\u7cfb\u5217"},sidebar:"docs",previous:{title:"TS | \u7279\u6b8a\u64cd\u4f5c\u7b26",permalink:"/docs/typescript/ts_operator"},next:{title:"JS | \u9ad8\u9636\u65b9\u6cd5",permalink:"/docs/typescript/javascript_high"}},u=[{value:"\u5b9e\u73b0 <code>reduce</code>",id:"\u5b9e\u73b0-reduce",children:[],level:2},{value:"\u5b9e\u73b0 <code>new</code>",id:"\u5b9e\u73b0-new",children:[],level:2},{value:"\u5b9e\u73b0 <code>map</code>",id:"\u5b9e\u73b0-map",children:[],level:2},{value:"\u5b9e\u73b0 <code>call</code>",id:"\u5b9e\u73b0-call",children:[],level:2},{value:"\u5b9e\u73b0 <code>bind</code>",id:"\u5b9e\u73b0-bind",children:[],level:2},{value:"\u5b9e\u73b0 <code>apply</code>",id:"\u5b9e\u73b0-apply",children:[],level:2},{value:"\u5b9e\u73b0\u9632\u6296 <code>debounce</code>",id:"\u5b9e\u73b0\u9632\u6296-debounce",children:[],level:2},{value:"\u5b9e\u73b0\u8282\u6d41 <code>throttle</code>",id:"\u5b9e\u73b0\u8282\u6d41-throttle",children:[],level:2},{value:"\u5b9e\u73b0 Promise",id:"\u5b9e\u73b0-promise",children:[{value:"\u770b\u770b\u5b8c\u6574\u7248\u624b\u5199 promise",id:"\u770b\u770b\u5b8c\u6574\u7248\u624b\u5199-promise",children:[],level:3}],level:2}],p={toc:u};function m(e){var n=e.components,t=(0,l.Z)(e,a);return(0,o.kt)("wrapper",(0,r.Z)({},p,t,{components:n,mdxType:"MDXLayout"}),(0,o.kt)("div",{className:"admonition admonition-note alert alert--secondary"},(0,o.kt)("div",{parentName:"div",className:"admonition-heading"},(0,o.kt)("h5",{parentName:"div"},(0,o.kt)("span",{parentName:"h5",className:"admonition-icon"},(0,o.kt)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"14",height:"16",viewBox:"0 0 14 16"},(0,o.kt)("path",{parentName:"svg",fillRule:"evenodd",d:"M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"}))),"\u601d\u8003 \ud83e\udd14")),(0,o.kt)("div",{parentName:"div",className:"admonition-content"},(0,o.kt)("p",{parentName:"div"},"\u53ea\u662f\u4f1a\u7528\u53ef\u4e0d\u884c\uff0c\u5982\u4f55\u5b9e\u73b0\uff1f"))),(0,o.kt)("h2",{id:"\u5b9e\u73b0-reduce"},"\u5b9e\u73b0 ",(0,o.kt)("inlineCode",{parentName:"h2"},"reduce")),(0,o.kt)("p",null,"\u63ed\u5f00\u795e\u79d8\u9762\u7eb1\u7cfb\u5217"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-js"},"var _reduce = function(callback, accumulator) {\n    const self = this\n    let idx = null\n    if (!accumulator) {\n        accumulator = self[0]\n        idx = 1\n    }\n    for (let i = idx; i < self.length; i ++) {\n        accumulator = callback(accumulator, self[i], i, self)  \n    }\n    return accumulator\n}\n\n\nArray.prototype.reduce = _reduce\n\nvar a = [1,2,3,4,5]\na.reduce((acc, cur) => {\n    console.log(cur)\n    return acc + cur\n})\n")),(0,o.kt)("h2",{id:"\u5b9e\u73b0-new"},"\u5b9e\u73b0 ",(0,o.kt)("inlineCode",{parentName:"h2"},"new")),(0,o.kt)("p",null,"\u63ed\u5f00\u795e\u79d8\u9762\u7eb1\u7cfb\u5217"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-js"},"var _new = function(...args) {\n    var o = Object.create({})\n    var ctor = Array.prototype.shift.apply(args)\n    o.__proto__ = ctor.prototype\n    ctor.apply(o, args)\n    return o\n}\n\n\nfunction humen(name, age) {\n    this.name = name\n    this.age = age\n}\nhumen.prototype = {\n    constructor: humen,\n    say() {\n       console.log(`my name's ${this.name}, my age's ${this.age}`)\n    }\n}\n\nvar test = _new(humen, '\u5f20\u4e09', 18)\nconsole.log(test.say())\n")),(0,o.kt)("h2",{id:"\u5b9e\u73b0-map"},"\u5b9e\u73b0 ",(0,o.kt)("inlineCode",{parentName:"h2"},"map")),(0,o.kt)("p",null,"\u63ed\u5f00\u795e\u79d8\u9762\u7eb1\u7cfb\u5217"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-js"},"const _map = function(callback) {\n    const _this = this\n    const reslut = []\n    for(let i = 0; i < _this.length; i ++) {\n       reslut.push(callback(_this[i], i, _this))  \n    }\n    return reslut\n}\n\n\nArray.prototype.map = _map\n\nvar a = [1,2,3,4,5]\na.map((item) => {\n    console.log(item)\n    return item + 2\n})\n")),(0,o.kt)("h2",{id:"\u5b9e\u73b0-call"},"\u5b9e\u73b0 ",(0,o.kt)("inlineCode",{parentName:"h2"},"call")),(0,o.kt)("p",null,"\u63ed\u5f00\u795e\u79d8\u9762\u7eb1\u7cfb\u5217"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-js"},"var _call = function(obj, ...args) {\n  obj.fn = this;\n  let res = obj.fn(...args);\n  delete obj.fn;\n  return res\n}\n\nFunction.prototype.call = _call\n\nvar test1 = {\n    name: '\u674e\u56db',\n    age: 20\n}\n\nfunction test(name, age) {\n    this.name = name\n    this.age = age\n}\ntest.call(test1, '\u8001\u8881', 34)\nconsole.log(test1)\n")),(0,o.kt)("h2",{id:"\u5b9e\u73b0-bind"},"\u5b9e\u73b0 ",(0,o.kt)("inlineCode",{parentName:"h2"},"bind")),(0,o.kt)("p",null,"\u63ed\u5f00\u795e\u79d8\u9762\u7eb1\u7cfb\u5217"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-js"},"var _bind = function(obj, ...args) {\n  obj.fn = this\n  return function() {\n    let arr = args.concat(arguments)\n    let res = obj.fn(...arr)\n    delete obj.fn\n    return res\n  }\n}\n\nFunction.prototype.bind = _bind\n\nvar test = {\n  name: '\u674e\u56db',\n  age: 18,\n  say() {\n      console.log(this.name, this.age)\n  }\n}\n\nvar b = test.say\nconsole.log(b())\n")),(0,o.kt)("h2",{id:"\u5b9e\u73b0-apply"},"\u5b9e\u73b0 ",(0,o.kt)("inlineCode",{parentName:"h2"},"apply")),(0,o.kt)("p",null,"\u63ed\u5f00\u795e\u79d8\u9762\u7eb1\u7cfb\u5217"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-js"},"var _apply = function(obj, args) {\n  let res;\n  obj.fn = this;\n  if (args && args.length) {\n      res = obj.fn(...args);\n  } else {\n      res = obj.fn();\n  }\n  delete obj.fn;\n  return res;\n}\n\nFunction.prototype.apply = _apply\n\n\nvar test1 = {\n    name: '\u674e\u56db',\n    age: 20\n}\n\n\nfunction test(name, age) {\n    this.name = name\n    this.age = age\n}\ntest.apply(test1, ['\u8001\u8881', 34])\nconsole.log(test1)\n")),(0,o.kt)("h2",{id:"\u5b9e\u73b0\u9632\u6296-debounce"},"\u5b9e\u73b0\u9632\u6296 ",(0,o.kt)("inlineCode",{parentName:"h2"},"debounce")),(0,o.kt)("p",null,"\u6307\u89e6\u53d1\u4e8b\u4ef6\u540e\u5728 n \u79d2\u5185\u51fd\u6570\u53ea\u80fd\u6267\u884c\u4e00\u6b21\uff0c\u5982\u679c\u5728 n \u79d2\u5185\u53c8\u89e6\u53d1\u4e86\u4e8b\u4ef6\uff0c\u5219\u4f1a\u91cd\u65b0\u8ba1\u7b97\u51fd\u6570\u6267\u884c\u65f6\u95f4"),(0,o.kt)("blockquote",null,(0,o.kt)("p",{parentName:"blockquote"},"\u4f7f\u7528\u573a\u666f\uff1a\u75af\u72c2click\u5237\u9875 \u7b49")),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-ts"},"// \u975e\u7acb\u5373\u6267\u884c\u7248\nexport function debounce(callback: Function, wait: number = 400) {\n    let timer: NodeJS.Timeout, context: Function;\n\n    const internalTimeoutCallback = function (...args: any[]) {\n        clearTimeout(timer);\n        context = this\n        timer = setTimeout(() => {\n            callback.apply(context, args);\n            context = null;\n        }, wait);\n    }\n\n    internalTimeoutCallback.cancel = function () {\n        clearTimeout(timer)\n        context = timer = null;\n    }\n\n    return internalTimeoutCallback\n}\nconsole.log(callback())\nconsole.log(callback.cancel())\n")),(0,o.kt)("h2",{id:"\u5b9e\u73b0\u8282\u6d41-throttle"},"\u5b9e\u73b0\u8282\u6d41 ",(0,o.kt)("inlineCode",{parentName:"h2"},"throttle")),(0,o.kt)("p",null,"\u6307\u8fde\u7eed\u89e6\u53d1\u4e8b\u4ef6\u4f46\u662f\u5728 n \u79d2\u4e2d\u53ea\u6267\u884c\u4e00\u6b21\u51fd\u6570\u3002\u8282\u6d41\u4f1a\u7a00\u91ca\u51fd\u6570\u7684\u6267\u884c\u9891\u7387"),(0,o.kt)("blockquote",null,(0,o.kt)("p",{parentName:"blockquote"},"\u4f7f\u7528\u573a\u666f\uff1a\u6eda\u52a8\u4e8b\u4ef6 \u7b49")),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-ts"},"export function throttle(callback: Function, wait: number = 400) {\n    let timer: NodeJS.Timeout, context: Function;\n\n    const internalTimeoutCallback = function (...args: any[]) {\n        context = this\n        if (timer) return false;\n        timer = setTimeout(() => {\n            callback.apply(context, args);\n            clearTimeout(timer);\n            context = timer = null;\n        }, wait)\n    }\n\n    internalTimeoutCallback.cancel = function () {\n        clearTimeout(timer)\n        context = timer = null;\n    }\n\n    return internalTimeoutCallback\n}\n\nconst callback = throttle(fn, 200)\n\nconsole.log(callback())\nconsole.log(callback.cancel())\n")),(0,o.kt)("h2",{id:"\u5b9e\u73b0-promise"},"\u5b9e\u73b0 Promise"),(0,o.kt)("p",null,"\u9996\u5148\u770b\u770b Promise \u8bed\u6cd5"),(0,o.kt)("p",null,"\u5305\u88f9\u5185\u5bb9\u4e2d\u4e0d\u5b58\u5728\u5f02\u6b65"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-js",metastring:'title="noasync.js"',title:'"noasync.js"'},"const promise = new Promise((resolve, reject) => {\n  resolve('resolved');\n});\npromise.then( res => {\n  console.log(res) // resolved\n})\n")),(0,o.kt)("p",null,"\u5305\u88f9\u5185\u5bb9\u4e2d\u5b58\u5728\u5f02\u6b65"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-js",metastring:'title="async.js"',title:'"async.js"'},"const promise = new Promise((resolve, reject) => {\n  setTimeout(() => {\n    resolve('resolved');\n  }, 1000);\n});\npromise.then( res => {\n  console.log(res) // resolved\n})\n")),(0,o.kt)("p",null,"\u8fd4\u56de\u4e00\u4e2aPromise \u88ab\u51fd\u6570\u5305\u88f9\u7684"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-js",metastring:'title="beWrapped.js"',title:'"beWrapped.js"'},"const getPromise = function() {\n  return new Promise((resolve, reject) => {\n    setTimeout(() => {\n      resolve('resolve');\n    }, 1000);\n  });\n};\n\ngetPromise().then((res) => {\n    console.log(res); // resolve\n});\n")),(0,o.kt)("h3",{id:"\u770b\u770b\u5b8c\u6574\u7248\u624b\u5199-promise"},"\u770b\u770b\u5b8c\u6574\u7248\u624b\u5199 promise"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-js"},"\nconst PROMISE_STATE = {\n    PENDING: 'pending',\n    FULFILLED: 'fulfilled',\n    REJECTED: 'rejected'\n}\n\nclass NativePromise {\n    constructor(executor) {\n        // \u521b\u5efa\u65f6\n        this.state = undefined;\n        this.value = undefined;\n        this.reason = undefined;\n\n        // \u8ba2\u9605\u6267\u884c\u5668\u7684\u4efb\u52a1\n        this.onFulfilledCallbacks = [];\n        this.onRejectedCallbacks = [];\n        // \u521d\u59cb\u5316\n        this.initialized(executor);\n    }\n\n    initialized(executor) {\n        this.state = PROMISE_STATE.PENDING\n        const that = this\n\n        const resolve = function resolve(value) {\n            setTimeout(() => {\n                if (that.state === PROMISE_STATE.PENDING) {\n                    that.state = PROMISE_STATE.FULFILLED\n                    that.value = value\n\n                    that.onFulfilledCallbacks.forEach((cb) => {\n                        cb(that.value)\n                    });\n                }\n            })\n\n        }\n\n        const reject = function reject(reason) {\n            setTimeout(() => {\n                if (that.state === PROMISE_STATE.PENDING) {\n                    that.state = PROMISE_STATE.REJECTED\n                    that.reason = reason\n                    that.onRejectedCallbacks.forEach((cb) => cb(that.reason));\n                }\n            })\n        }\n\n        try {\n            executor(resolve, reject)\n        } catch (err) {\n            reject(err)\n        }\n    }\n\n    then(onFulfilled, onRejected) {\n        console.trace()\n        const that = this;\n        if (typeof onFulfilled !== 'function') {\n            onFulfilled = function onFulfilled(value) { return value }\n        }\n\n        if (typeof onRejected !== 'function') {\n            onRejected = function onRejected(reason) { throw reason }\n        }\n\n        if (this.state === PROMISE_STATE.PENDING) {\n            const pendingPromise = new NativePromise((resolve, reject) => {\n                that.onFulfilledCallbacks.push((value) => {\n                    try {\n                        console.log('Fulfilled', onFulfilled)\n                        let x = onFulfilled(value);\n                        resolvePromise(pendingPromise, x, resolve, reject);\n                    } catch (e) {\n                        reject(e);\n                    }\n                });\n                that.onRejectedCallbacks.push((reason) => {\n                    try {\n                        let x = onRejected(reason);\n                        resolvePromise(pendingPromise, x, resolve, reject);\n                    } catch (e) {\n                        reject(e);\n                    }\n                });\n            })\n\n            return pendingPromise\n        }\n\n        if (this.state === PROMISE_STATE.FULFILLED) {\n            const fulfilledPromise = new NativePromise((resolve, reject) => {\n                setTimeout(() => {\n                    try {\n                        let x = onFulfilled(that.value)\n                        resolvePromise(fulfilledPromise, x, resolve, reject);\n                    } catch (err) {\n                        reject(err)\n                    }\n                })\n            })\n            return fulfilledPromise\n        }\n\n        if (this.state === PROMISE_STATE.REJECTED) {\n            const rejectPromise = new NativePromise((resolve, reject) => {\n                setTimeout(() => {\n                    try {\n                        let x = onFulfilled(that.reason)\n                        resolvePromise(rejectPromise, x, resolve, reject);\n                    } catch (err) {\n                        reject(err)\n                    }\n                })\n            })\n            return rejectPromise\n        }\n\n    }\n\n}\n\nfunction resolvePromise(promise, x, resolve, reject) {\n    if (promise === x) throw reject(new TypeError(\"\u5faa\u73af\u5f15\u7528\"));\n\n    if ((typeof x === 'object' && x !== null) || typeof x === 'function') {\n        let called;\n        try {\n            let then = x.then;\n            if (typeof then === 'function') {\n                then.call(\n                    x,\n                    (y) => {\n                        if (called) return;\n                        called = true;\n                        resolvePromise(promise, y, resolve, reject);\n                    },\n                    (r) => {\n                        if (called) return;\n                        called = true;\n                        reject(r);\n                    }\n                );\n            } else {\n                resolve(x)\n            }\n        } catch (err) {\n            if (called) return;\n            called = true;\n            reject(e);\n        }\n    } else {\n        resolve(x)\n    }\n}\n\nwindow.$p1 = new NativePromise((resolve, reject) => {\n    setTimeout(() => {\n        resolve('\u6210\u529f');\n    }, 1000);\n\n}).then(v => console.log(v), e => console.log(e)).then( v2 => console.log(v2))\n\n\n")))}m.isMDXComponent=!0}}]);