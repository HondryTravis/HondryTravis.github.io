<!doctype html>
<html class="docs-version-current" lang="zh-Hans" dir="ltr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="generator" content="Docusaurus v2.0.0-beta.8">
<link rel="alternate" type="application/rss+xml" href="/blog/rss.xml" title="TRAVIS RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/blog/atom.xml" title="TRAVIS Atom Feed"><title data-react-helmet="true">é¢å‘åˆ‡é¢ç¼–ç¨‹ | TRAVIS</title><meta data-react-helmet="true" name="twitter:card" content="summary_large_image"><meta data-react-helmet="true" property="og:url" content="https://hondrytravis.github.io//docs/thinking/aop"><meta data-react-helmet="true" name="docusaurus_locale" content="zh-Hans"><meta data-react-helmet="true" name="docusaurus_version" content="current"><meta data-react-helmet="true" name="docusaurus_tag" content="docs-default-current"><meta data-react-helmet="true" property="og:title" content="é¢å‘åˆ‡é¢ç¼–ç¨‹ | TRAVIS"><meta data-react-helmet="true" name="description" content="ç¼–ç¨‹æ€æƒ³é€æ­¥æå‡"><meta data-react-helmet="true" property="og:description" content="ç¼–ç¨‹æ€æƒ³é€æ­¥æå‡"><link data-react-helmet="true" rel="shortcut icon" href="/images/default/favicon.ico"><link data-react-helmet="true" rel="canonical" href="https://hondrytravis.github.io//docs/thinking/aop"><link data-react-helmet="true" rel="alternate" href="https://hondrytravis.github.io//docs/thinking/aop" hreflang="zh-Hans"><link data-react-helmet="true" rel="alternate" href="https://hondrytravis.github.io//docs/thinking/aop" hreflang="x-default"><link rel="stylesheet" href="/assets/css/styles.673bc2ec.css">
<link rel="preload" href="/assets/js/runtime~main.261a0b30.js" as="script">
<link rel="preload" href="/assets/js/main.d8aec2c2.js" as="script">
</head>
<body>
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div><a href="#" class="skipToContent_1oUP">è·³åˆ°ä¸»è¦å†…å®¹</a></div><nav class="navbar navbar--fixed-top navbar--dark navbarHideable_2qcr"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Navigation bar toggle" class="navbar__toggle clean-btn" type="button" tabindex="0"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><div class="navbar__logo"><img src="/images/default/Logo.png" alt="logo" class="themedImage_1VuW themedImage--light_3UqQ"><img src="/images/default/Logo.png" alt="logo" class="themedImage_1VuW themedImage--dark_hz6m"></div><b class="navbar__title">Better Late Than Never</b></a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/docs">åšå®¢</a><a class="navbar__item navbar__link" href="/algorithm/">ç®—æ³•</a><a class="navbar__item navbar__link" href="/open_source/"> å¼€æºè´¡çŒ®</a><a class="navbar__item navbar__link" href="/blog">é˜…è¯»</a></div><div class="navbar__items navbar__items--right"><a href="https://github.com/HondryTravis" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link"><span>GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_3J9K"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a><div class="toggle_71bT toggle_3Zt9 toggleDisabled_3cF-"><div class="toggleTrack_32Fl" role="button" tabindex="-1"><div class="toggleTrackCheck_3lV7"><span class="toggleIcon_O4iE">ğŸŒœ</span></div><div class="toggleTrackX_S2yS"><span class="toggleIcon_O4iE">ğŸŒ</span></div><div class="toggleTrackThumb_xI_Z"></div></div><input type="checkbox" class="toggleScreenReader_28Tw" aria-label="Switch between dark and light mode"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div class="main-wrapper docs-wrapper docs-doc-page"><div class="docPage_31aa"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_35hR" type="button"></button><aside class="docSidebarContainer_3Kbt"><div class="sidebar_15mo sidebarWithHideableNavbar_267A"><a tabindex="-1" class="sidebarLogo_3h0W" href="/"><img src="/images/default/Logo.png" alt="logo" class="themedImage_1VuW themedImage--light_3UqQ"><img src="/images/default/Logo.png" alt="logo" class="themedImage_1VuW themedImage--dark_hz6m"><b>Better Late Than Never</b></a><nav class="menu thin-scrollbar menu_Bmed"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/">åšå®¢</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#">Typescript</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#">Wasm</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#">HTML | CSS</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#">Webpack</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#">Node</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#">å‰ç«¯å·¥ç¨‹åŒ–</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#">æ€§èƒ½ä¼˜åŒ–</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#">Framework</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#">OS</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#">Linux</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><a class="menu__link menu__link--sublist menu__link--active" href="#">ç¼–ç¨‹æ€æƒ³</a><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/docs/thinking/aop">é¢å‘åˆ‡é¢ç¼–ç¨‹</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/thinking/functional_programming">å‡½æ•°å¼ç¼–ç¨‹</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/thinking/design_patterns">è®¾è®¡æ¨¡å¼</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/thinking/ioc">æ§åˆ¶åè½¬ | Ioc</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#">HTTP</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#">Nginx</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#">Java</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#">Python</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#">æ•°æ®åº“</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#">å…¶ä»–å¸¸ç”¨å·¥å…·</a></li></ul></nav><button type="button" title="æ”¶èµ·ä¾§è¾¹æ " aria-label="æ”¶èµ·ä¾§è¾¹æ " class="button button--secondary button--outline collapseSidebarButton_1CGd"><svg width="20" height="20" aria-hidden="true" class="collapseSidebarButtonIcon_3E-R"><g fill="#7a7a7a"><path d="M9.992 10.023c0 .2-.062.399-.172.547l-4.996 7.492a.982.982 0 01-.828.454H1c-.55 0-1-.453-1-1 0-.2.059-.403.168-.551l4.629-6.942L.168 3.078A.939.939 0 010 2.528c0-.548.45-.997 1-.997h2.996c.352 0 .649.18.828.45L9.82 9.472c.11.148.172.347.172.55zm0 0"></path><path d="M19.98 10.023c0 .2-.058.399-.168.547l-4.996 7.492a.987.987 0 01-.828.454h-3c-.547 0-.996-.453-.996-1 0-.2.059-.403.168-.551l4.625-6.942-4.625-6.945a.939.939 0 01-.168-.55 1 1 0 01.996-.997h3c.348 0 .649.18.828.45l4.996 7.492c.11.148.168.347.168.55zm0 0"></path></g></svg></button></div></aside><main class="docMainContainer_3ufF"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_3FnS"><div class="docItemContainer_33ec"><article><div class="tocCollapsible_1PrD theme-doc-toc-mobile tocMobile_3Hoh"><button type="button" class="clean-btn tocCollapsibleButton_2O1e">æœ¬é¡µæ€»è§ˆ</button></div><div class="theme-doc-markdown markdown"><header><h1>é¢å‘åˆ‡é¢ç¼–ç¨‹</h1></header><h2 class="anchor anchorWithHideOnScrollNavbar_3R7-" id="ç¼–ç¨‹æ€æƒ³é€æ­¥æå‡">ç¼–ç¨‹æ€æƒ³é€æ­¥æå‡<a aria-hidden="true" class="hash-link" href="#ç¼–ç¨‹æ€æƒ³é€æ­¥æå‡" title="æ ‡é¢˜çš„ç›´æ¥é“¾æ¥">â€‹</a></h2><p>é¢å‘å¯¹è±¡ -&gt; å·¥ç¨‹æ¨¡å¼ -&gt; é¢å‘åˆ‡é¢</p><p><strong>é¢å‘å¯¹è±¡</strong> ä¼ ç»Ÿæ–¹å¼ï¼Œéœ€è¦åŠ¨æ€å¼•å…¥ç±»</p><p><strong>å·¥ç¨‹æ¨¡å¼</strong> ä¸šåŠ¡å±‚ä¸éœ€è¦å…·ä½“å…³æ³¨å®ä¾‹åˆ°åº•æ€ä¹ˆç”Ÿæˆçš„</p><p><strong>é¢å‘åˆ‡é¢</strong> ä¸åœ¨å†™å·¥å…·ç±»ï¼Œç›´æ¥èµ° ioc å®¹å™¨ä¸­åˆ›å»ºå¥½çš„å®ä¾‹ä¸­<strong>å–</strong></p><div class="admonition admonition-note alert alert--secondary"><div class="admonition-heading"><h5><span class="admonition-icon"><svg xmlns="http://www.w3.org/2000/svg" width="14" height="16" viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>ç»“è®º</h5></div><div class="admonition-content"><p>oop æ˜¯é™æ€çš„æŠ½è±¡</p><p>aop æ˜¯åŠ¨æ€çš„æŠ½è±¡</p></div></div><h2 class="anchor anchorWithHideOnScrollNavbar_3R7-" id="solidè®¾è®¡åŸåˆ™">SOLIDè®¾è®¡åŸåˆ™<a aria-hidden="true" class="hash-link" href="#solidè®¾è®¡åŸåˆ™" title="æ ‡é¢˜çš„ç›´æ¥é“¾æ¥">â€‹</a></h2><p>solid ä¸ºé¢å‘å¯¹è±¡è®¾è®¡åŸåˆ™ä¸­çš„ä¸€ç§</p><p>ç¨‹åºè®¾è®¡é¢†åŸŸï¼Œ SOLID (å•â¼€åŠŸèƒ½ã€å¼€é—­åŸåˆ™ã€â¾¥â½’æ›¿æ¢ã€æ¥â¼éš”ç¦»ä»¥åŠä¾èµ–åè½¬)æ˜¯ç”±ç½—ä¼¯ç‰¹Â·CÂ·â»¢ä¸åœ¨21ä¸–çºªæ—©æœŸ å¼•â¼Šçš„è®°å¿†æœ¯â¾¸å­—âºŸç¼©ç•¥å­—ï¼ŒæŒ‡ä»£äº†â¾¯å‘å¯¹è±¡ç¼–ç¨‹å’Œâ¾¯å‘å¯¹è±¡è®¾è®¡çš„äº”ä¸ªåŸºæœ¬åŸåˆ™ã€‚å½“è¿™äº›åŸåˆ™è¢«â¼€èµ·åº”â½¤æ—¶ï¼Œå®ƒä»¬ä½¿å¾—â¼€ä¸ªç¨‹åºå‘˜å¼€å‘â¼€ä¸ªå®¹æ˜“è¿›â¾è½¯ä»¶ç»´æŠ¤å’Œæ‰©å±•çš„ç³»ç»Ÿå˜å¾—æ›´åŠ å¯èƒ½SOLIDè¢«å…¸å‹çš„åº”â½¤åœ¨æµ‹è¯•é©±åŠ¨å¼€å‘ä¸Šï¼Œå¹¶ä¸”æ˜¯æ•æ·å¼€å‘ä»¥åŠâ¾ƒé€‚åº”è½¯ä»¶å¼€å‘çš„åŸºæœ¬åŸåˆ™çš„é‡è¦ç»„æˆéƒ¨åˆ†</p><p>ä¸»è¦åˆ†ä¸ºï¼š</p><ol><li>[S]<!-- --> Single Responsibility Principle (å•â¼€åŠŸèƒ½åŸåˆ™)</li><li>[O]<!-- --> Open Close Principle ï¼ˆå¼€é—­åŸåˆ™ï¼‰</li><li>[L]<!-- --> Liskov Substitution Principleï¼ˆâ¾¥â½’æ›¿æ¢åŸåˆ™ï¼‰</li><li>[I]<!-- --> Interface Segregation Principleï¼ˆæ¥â¼éš”ç¦»åŸåˆ™ï¼‰</li><li>[D]<!-- --> Dependency Inversion Principle (ä¾èµ–å€’ç½®/åè½¬åŸåˆ™)</li></ol><h3 class="anchor anchorWithHideOnScrollNavbar_3R7-" id="å•åŠŸèƒ½åŸåˆ™--s">å•â¼€åŠŸèƒ½åŸåˆ™ | S<a aria-hidden="true" class="hash-link" href="#å•åŠŸèƒ½åŸåˆ™--s" title="æ ‡é¢˜çš„ç›´æ¥é“¾æ¥">â€‹</a></h3><p>å•â¼€åŠŸèƒ½åŸåˆ™(Single Responsibility Principle)ï¼šå•â¼€åŠŸèƒ½åŸåˆ™ è®¤ä¸ºå¯¹è±¡åº”è¯¥ä»…å…·æœ‰â¼€ç§å•â¼€åŠŸèƒ½çš„æ¦‚å¿µã€‚æ¢å¥è¯è¯´å°±æ˜¯ <strong>è®©â¼€ä¸ªç±»åªåšâ¼€ç§ç±»å‹è´£ä»»</strong> ï¼Œå½“è¿™ä¸ªç±»éœ€è¦æ‰¿æ‹…å…¶ä»–ç±»å‹çš„è´£ä»»çš„æ—¶å€™ï¼Œå°±éœ€è¦åˆ†è§£è¿™ä¸ªç±»ã€‚åœ¨æ‰€æœ‰çš„SOLIDåŸåˆ™ä¸­ï¼Œè¿™æ˜¯â¼¤å¤šæ•°å¼€å‘â¼ˆå‘˜æ„Ÿåˆ°æœ€èƒ½å®Œå…¨ç†è§£çš„â¼€æ¡ã€‚ä¸¥æ ¼æ¥è¯´ï¼Œè¿™ä¹Ÿå¯èƒ½æ˜¯è¿åæœ€é¢‘ç¹çš„â¼€æ¡åŸåˆ™äº†ã€‚å•â¼€è´£ä»»åŸåˆ™å¯ä»¥çœ‹ä½œæ˜¯ä½è€¦åˆã€â¾¼å†…èšåœ¨â¾¯å‘å¯¹è±¡åŸåˆ™ä¸Šçš„å¼•ç”³ï¼Œå°†è´£ä»»å®šä¹‰ä¸ºå¼•èµ·å˜åŒ–çš„åŸå› ï¼Œä»¥æâ¾¼å†…èšæ€§æ¥å‡å°‘å¼•èµ·å˜åŒ–çš„åŸå› ã€‚è´£ä»»è¿‡å¤šï¼Œå¯èƒ½å¼•èµ·å®ƒå˜åŒ–çš„åŸå› å°±è¶Šå¤šï¼Œè¿™å°†å¯¼è‡´è´£ä»»ä¾èµ–ï¼Œç›¸äº’ä¹‹é—´å°±äº§â½£å½±å“ï¼Œä»â½½æâ¼¤çš„æŸä¼¤å…¶å†…èšæ€§å’Œè€¦åˆåº¦ã€‚å•â¼€è´£ä»»ï¼Œé€šå¸¸æ„å‘³ç€å•â¼€çš„åŠŸèƒ½ï¼Œå› æ­¤ä¸è¦ä¸ºâ¼€ä¸ªæ¨¡å—å® ç°è¿‡å¤šçš„åŠŸèƒ½ç‚¹ï¼Œä»¥ä¿è¯å®ä½“åªæœ‰â¼€ä¸ªå¼•èµ·å®ƒå˜åŒ–çš„åŸå› ã€‚</p><p>å…ˆçœ‹ C# ä¸­æ ‡å‡†å†™æ³•ï¼Œè¿™ç§å†™æ³•ä¹Ÿé€‚ç”¨äº js</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly cs"><pre tabindex="0" class="prism-code language-cs codeBlock_23N8 thin-scrollbar" style="color:#dddddd;background-color:#24272a"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#dddddd"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#dddddd"><span class="token plain">namespace SOLID</span><br></span><span class="token-line" style="color:#dddddd"><span class="token plain">{</span><br></span><span class="token-line" style="color:#dddddd"><span class="token plain">    public class Users</span><br></span><span class="token-line" style="color:#dddddd"><span class="token plain">    {</span><br></span><span class="token-line" style="color:#dddddd"><span class="token plain">        /// &lt;summary&gt;</span><br></span><span class="token-line" style="color:#dddddd"><span class="token plain">        /// æ”¯ä»˜</span><br></span><span class="token-line" style="color:#dddddd"><span class="token plain">        /// &lt;/summary&gt;</span><br></span><span class="token-line" style="color:#dddddd"><span class="token plain">        public void Pay(){}</span><br></span><span class="token-line" style="color:#dddddd"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#dddddd"><span class="token plain">        /// &lt;summary&gt;</span><br></span><span class="token-line" style="color:#dddddd"><span class="token plain">        /// æ•°æ®åº“æ“ä½œ</span><br></span><span class="token-line" style="color:#dddddd"><span class="token plain">        /// &lt;/summary&gt;</span><br></span><span class="token-line" style="color:#dddddd"><span class="token plain">        public void DataAccess(){}</span><br></span><span class="token-line" style="color:#dddddd"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#dddddd"><span class="token plain">        /// &lt;summary&gt;</span><br></span><span class="token-line" style="color:#dddddd"><span class="token plain">        /// æ—¥å¿—æ“ä½œ</span><br></span><span class="token-line" style="color:#dddddd"><span class="token plain">        /// &lt;/summary&gt;</span><br></span><span class="token-line" style="color:#dddddd"><span class="token plain">        public void Logger(){}</span><br></span><span class="token-line" style="color:#dddddd"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#dddddd"><span class="token plain">}</span><br></span><span class="token-line" style="color:#dddddd"><span class="token plain">//1.åœ¨è¿™ä¸ªç”¨æˆ·ç±»ä¸­æœ‰è¿™ä¸‰ä¸ªåŠŸèƒ½ï¼š1.æ”¯ä»˜é€»è¾‘ï¼Œ2æ•°æ®åº“é€»è¾‘ï¼Œ3.æ—¥å¿—æ“ä½œã€‚</span><br></span><span class="token-line" style="color:#dddddd"><span class="token plain">//2.å¦‚æœå°†è¿™ä¸‰ä¸ªåŠŸèƒ½ç»“åˆåœ¨ä¸€ä¸ªç±»ä¸­ï¼Œå¯èƒ½ä¼šå‡ºç°ä¿®æ”¹éƒ¨åˆ†ä»£ç æ—¶ä¼šç ´åå…¶ä»–çš„éƒ¨åˆ†ã€‚</span><br></span><span class="token-line" style="color:#dddddd"><span class="token plain">//3.å¤šä¸ªåŠŸèƒ½ä¹Ÿä½¿è¿™ä¸ªç”¨æˆ·ç±»éš¾ä»¥ç†è§£ï¼Œé™ä½äº†å†…èšæ€§ã€‚æ‰€ä»¥æœ€å¥½å°±æ˜¯å°†è¿™ä¸ªç±»åˆ†ç¦»ä¸ºä¸‰ä¸ªåˆ†ç¦»çš„ç±»ï¼Œæ¯ä¸ªç±»ä»…ä»…æœ‰ä¸€ä¸ªåŠŸèƒ½ã€‚</span><br></span><span class="token-line" style="color:#dddddd"><span class="token plain">namespace SOLID</span><br></span><span class="token-line" style="color:#dddddd"><span class="token plain">{</span><br></span><span class="token-line" style="color:#dddddd"><span class="token plain">    /// &lt;summary&gt;</span><br></span><span class="token-line" style="color:#dddddd"><span class="token plain">    /// æ•°æ®åº“æ“ä½œ</span><br></span><span class="token-line" style="color:#dddddd"><span class="token plain">    /// &lt;/summary&gt;</span><br></span><span class="token-line" style="color:#dddddd"><span class="token plain">    class DataAccess { }</span><br></span><span class="token-line" style="color:#dddddd"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#dddddd"><span class="token plain">    /// &lt;summary&gt;</span><br></span><span class="token-line" style="color:#dddddd"><span class="token plain">    /// æ—¥å¿—</span><br></span><span class="token-line" style="color:#dddddd"><span class="token plain">    /// &lt;/summary&gt;</span><br></span><span class="token-line" style="color:#dddddd"><span class="token plain">    class Logger { }</span><br></span><span class="token-line" style="color:#dddddd"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#dddddd"><span class="token plain">    /// &lt;summary&gt;</span><br></span><span class="token-line" style="color:#dddddd"><span class="token plain">    /// æ”¯ä»˜</span><br></span><span class="token-line" style="color:#dddddd"><span class="token plain">    /// &lt;/summary&gt;</span><br></span><span class="token-line" style="color:#dddddd"><span class="token plain">    class Pay { }</span><br></span><span class="token-line" style="color:#dddddd"><span class="token plain">}</span><br></span><span class="token-line" style="color:#dddddd"><span class="token plain" style="display:inline-block"></span><br></span></code></pre><button type="button" aria-label="å¤åˆ¶ä»£ç åˆ°å‰ªè´´æ¿" class="copyButton_Ue-o clean-btn">å¤åˆ¶</button></div></div><p>åœ¨ js ä¸­å®ç°</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly js"><pre tabindex="0" class="prism-code language-js codeBlock_23N8 thin-scrollbar" style="color:#dddddd;background-color:#24272a"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#dddddd"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#dddddd"><span class="token plain"></span><span class="token comment" style="color:#737373">//Bad</span><span class="token plain"></span><br></span><span class="token-line" style="color:#dddddd"><span class="token plain"></span><span class="token keyword" style="color:#FF69B4">class</span><span class="token plain"> </span><span class="token class-name" style="color:#00bfff">UserSettings</span><span class="token plain"> </span><span class="token punctuation" style="color:#FF69B4">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#dddddd"><span class="token plain">    </span><span class="token function" style="color:#00E673">constructor</span><span class="token punctuation" style="color:#FF69B4">(</span><span class="token parameter" style="color:#FFB86C">user</span><span class="token punctuation" style="color:#FF69B4">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#FF69B4">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#dddddd"><span class="token plain">        </span><span class="token keyword" style="color:#FF69B4">this</span><span class="token punctuation" style="color:#FF69B4">.</span><span class="token property-access" style="color:#8BE9FD">user</span><span class="token plain"> </span><span class="token operator" style="color:#FF69B4">=</span><span class="token plain"> user</span><span class="token punctuation" style="color:#FF69B4">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#dddddd"><span class="token plain">    </span><span class="token punctuation" style="color:#FF69B4">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#dddddd"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#dddddd"><span class="token plain">    </span><span class="token function" style="color:#00E673">changeSettings</span><span class="token punctuation" style="color:#FF69B4">(</span><span class="token parameter" style="color:#FFB86C">settings</span><span class="token punctuation" style="color:#FF69B4">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#FF69B4">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#dddddd"><span class="token plain">        </span><span class="token keyword control-flow" style="color:#FF69B4">if</span><span class="token plain"> </span><span class="token punctuation" style="color:#FF69B4">(</span><span class="token keyword" style="color:#FF69B4">this</span><span class="token punctuation" style="color:#FF69B4">.</span><span class="token method function property-access" style="color:#8BE9FD">verifyCredentials</span><span class="token punctuation" style="color:#FF69B4">(</span><span class="token punctuation" style="color:#FF69B4">)</span><span class="token punctuation" style="color:#FF69B4">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#FF69B4">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#dddddd"><span class="token plain">            </span><span class="token comment" style="color:#737373">// ...</span><span class="token plain"></span><br></span><span class="token-line" style="color:#dddddd"><span class="token plain">        </span><span class="token punctuation" style="color:#FF69B4">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#dddddd"><span class="token plain">    </span><span class="token punctuation" style="color:#FF69B4">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#dddddd"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#dddddd"><span class="token plain">    </span><span class="token function" style="color:#00E673">verifyCredentials</span><span class="token punctuation" style="color:#FF69B4">(</span><span class="token punctuation" style="color:#FF69B4">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#FF69B4">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#dddddd"><span class="token plain">        </span><span class="token comment" style="color:#737373">// ...</span><span class="token plain"></span><br></span><span class="token-line" style="color:#dddddd"><span class="token plain">    </span><span class="token punctuation" style="color:#FF69B4">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#dddddd"><span class="token plain"></span><span class="token punctuation" style="color:#FF69B4">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#dddddd"><span class="token plain"></span><span class="token comment" style="color:#737373">//Good:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#dddddd"><span class="token plain"></span><span class="token keyword" style="color:#FF69B4">class</span><span class="token plain"> </span><span class="token class-name" style="color:#00bfff">UserAuth</span><span class="token plain"> </span><span class="token punctuation" style="color:#FF69B4">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#dddddd"><span class="token plain">    </span><span class="token function" style="color:#00E673">constructor</span><span class="token punctuation" style="color:#FF69B4">(</span><span class="token parameter" style="color:#FFB86C">user</span><span class="token punctuation" style="color:#FF69B4">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#FF69B4">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#dddddd"><span class="token plain">        </span><span class="token keyword" style="color:#FF69B4">this</span><span class="token punctuation" style="color:#FF69B4">.</span><span class="token property-access" style="color:#8BE9FD">user</span><span class="token plain"> </span><span class="token operator" style="color:#FF69B4">=</span><span class="token plain"> user</span><span class="token punctuation" style="color:#FF69B4">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#dddddd"><span class="token plain">    </span><span class="token punctuation" style="color:#FF69B4">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#dddddd"><span class="token plain">    </span><span class="token function" style="color:#00E673">verifyCredentials</span><span class="token punctuation" style="color:#FF69B4">(</span><span class="token punctuation" style="color:#FF69B4">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#FF69B4">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#dddddd"><span class="token plain">        </span><span class="token comment" style="color:#737373">// ...</span><span class="token plain"></span><br></span><span class="token-line" style="color:#dddddd"><span class="token plain">    </span><span class="token punctuation" style="color:#FF69B4">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#dddddd"><span class="token plain"></span><span class="token punctuation" style="color:#FF69B4">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#dddddd"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#dddddd"><span class="token plain"></span><span class="token keyword" style="color:#FF69B4">class</span><span class="token plain"> </span><span class="token class-name" style="color:#00bfff">UserSetting</span><span class="token plain"> </span><span class="token punctuation" style="color:#FF69B4">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#dddddd"><span class="token plain">    </span><span class="token function" style="color:#00E673">constructor</span><span class="token punctuation" style="color:#FF69B4">(</span><span class="token parameter" style="color:#FFB86C">user</span><span class="token punctuation" style="color:#FF69B4">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#FF69B4">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#dddddd"><span class="token plain">        </span><span class="token keyword" style="color:#FF69B4">this</span><span class="token punctuation" style="color:#FF69B4">.</span><span class="token property-access" style="color:#8BE9FD">user</span><span class="token plain"> </span><span class="token operator" style="color:#FF69B4">=</span><span class="token plain"> user</span><span class="token punctuation" style="color:#FF69B4">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#dddddd"><span class="token plain">        </span><span class="token keyword" style="color:#FF69B4">this</span><span class="token punctuation" style="color:#FF69B4">.</span><span class="token property-access" style="color:#8BE9FD">auth</span><span class="token plain"> </span><span class="token operator" style="color:#FF69B4">=</span><span class="token plain"> </span><span class="token keyword" style="color:#FF69B4">new</span><span class="token plain"> </span><span class="token class-name" style="color:#00bfff">UserAuth</span><span class="token punctuation" style="color:#FF69B4">(</span><span class="token keyword" style="color:#FF69B4">this</span><span class="token punctuation" style="color:#FF69B4">.</span><span class="token property-access" style="color:#8BE9FD">user</span><span class="token punctuation" style="color:#FF69B4">)</span><span class="token punctuation" style="color:#FF69B4">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#dddddd"><span class="token plain">    </span><span class="token punctuation" style="color:#FF69B4">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#dddddd"><span class="token plain">    </span><span class="token function" style="color:#00E673">changeSettings</span><span class="token punctuation" style="color:#FF69B4">(</span><span class="token parameter" style="color:#FFB86C">settings</span><span class="token punctuation" style="color:#FF69B4">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#FF69B4">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#dddddd"><span class="token plain">        </span><span class="token keyword control-flow" style="color:#FF69B4">if</span><span class="token plain"> </span><span class="token punctuation" style="color:#FF69B4">(</span><span class="token keyword" style="color:#FF69B4">this</span><span class="token punctuation" style="color:#FF69B4">.</span><span class="token property-access" style="color:#8BE9FD">auth</span><span class="token punctuation" style="color:#FF69B4">.</span><span class="token method function property-access" style="color:#8BE9FD">verifyCredentials</span><span class="token punctuation" style="color:#FF69B4">(</span><span class="token punctuation" style="color:#FF69B4">)</span><span class="token punctuation" style="color:#FF69B4">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#FF69B4">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#dddddd"><span class="token plain">            </span><span class="token comment" style="color:#737373">// ...</span><span class="token plain"></span><br></span><span class="token-line" style="color:#dddddd"><span class="token plain">        </span><span class="token punctuation" style="color:#FF69B4">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#dddddd"><span class="token plain">    </span><span class="token punctuation" style="color:#FF69B4">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#dddddd"><span class="token plain"></span><span class="token punctuation" style="color:#FF69B4">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#dddddd"><span class="token plain"></span><span class="token punctuation" style="color:#FF69B4">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#dddddd"><span class="token plain" style="display:inline-block"></span><br></span></code></pre><button type="button" aria-label="å¤åˆ¶ä»£ç åˆ°å‰ªè´´æ¿" class="copyButton_Ue-o clean-btn">å¤åˆ¶</button></div></div><h3 class="anchor anchorWithHideOnScrollNavbar_3R7-" id="å¼€é—­åŸåˆ™--o">å¼€é—­åŸåˆ™ | O<a aria-hidden="true" class="hash-link" href="#å¼€é—­åŸåˆ™--o" title="æ ‡é¢˜çš„ç›´æ¥é“¾æ¥">â€‹</a></h3><p>å¼€é—­åŸåˆ™(ocp | Open Close Principle) è®¤ä¸ºâ€œè½¯ä»¶ä½“åº”è¯¥æ˜¯å¯¹äºæ‰©å±•å¼€æ”¾çš„ï¼Œä½†æ˜¯å¯¹äºä¿®æ”¹å°é—­çš„â€çš„æ¦‚å¿µã€‚è½¯ä»¶å®ä½“åº”è¯¥æ˜¯å¯æ‰©å±•ï¼Œâ½½ä¸å¯ä¿®æ”¹çš„ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œ<strong>å¯¹æ‰©å±•æ˜¯å¼€æ”¾çš„ï¼Œâ½½å¯¹ä¿®æ”¹æ˜¯å°é—­çš„ï¼ˆâ€œå¼€â€æŒ‡çš„å°±æ˜¯ç±»ã€æ¨¡å—ã€å‡½æ•°éƒ½åº”è¯¥å…·æœ‰å¯æ‰©å±•æ€§ï¼Œâ€œé—­â€æŒ‡çš„æ˜¯å®ƒä»¬ä¸åº”è¯¥è¢«ä¿®æ”¹ã€‚ä¹Ÿå°±æ˜¯è¯´ä½ å¯ä»¥æ–°å¢åŠŸèƒ½ä½†ä¸èƒ½å»ä¿®æ”¹æºç ã€‚ï¼‰</strong>ã€‚è¿™ä¸ªåŸåˆ™æ˜¯è¯¸å¤šâ¾¯å‘å¯¹è±¡ç¼–ç¨‹åŸåˆ™ä¸­æœ€æŠ½è±¡ã€æœ€éš¾ç†è§£çš„â¼€ä¸ªã€‚</p><p>å¯¹æ‰©å±•å¼€æ”¾ï¼Œæ„å‘³ç€æœ‰æ–°çš„éœ€æ±‚æˆ–å˜åŒ–æ—¶ï¼Œå¯ä»¥å¯¹ç°æœ‰ä»£ç è¿›â¾æ‰©å±•ï¼Œä»¥é€‚åº”æ–°çš„æƒ…å†µã€‚å¯¹ä¿®æ”¹å°é—­ï¼Œæ„å‘³ç€ç±»â¼€æ—¦è®¾è®¡å®Œæˆï¼Œå°±å¯ä»¥ç‹¬â½´å®Œæˆå…¶â¼¯ä½œï¼Œâ½½ä¸è¦å¯¹ç±»è¿›â¾ä»»ä½•ä¿®æ”¹ã€‚å¯ä»¥ä½¿â½¤å˜åŒ–å’Œä¸å˜æ¥è¯´æ˜ï¼šå°è£…ä¸å˜éƒ¨åˆ†ï¼Œå¼€æ”¾å˜åŒ–éƒ¨åˆ†ï¼Œâ¼€èˆ¬ä½¿â½¤æ¥â¼ç»§æ‰¿å®ç°â½…å¼æ¥å®ç°â€œå¼€æ”¾â€åº”å¯¹å˜åŒ–ï¼Œè¯´â¼¤â½©è¯å°±æ˜¯ï¼šä½ ä¸æ˜¯è¦å˜åŒ–å—ï¼Ÿï¼Œé‚£ä¹ˆæˆ‘å°±è®©ä½ ç»§æ‰¿å®ç°â¼€ä¸ªå¯¹è±¡ï¼Œâ½¤â¼€ä¸ªæ¥â¼æ¥æŠ½è±¡ä½ çš„èŒè´£ï¼Œä½ å˜åŒ–è¶Šå¤šï¼Œç»§æ‰¿å®ç°çš„â¼¦ç±»å°±è¶Šå¤šã€‚</p><p>åŒæ ·é€‚ç”¨ C# æ¥ä½œä¸ºå±•ç¤º</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly cs"><pre tabindex="0" class="prism-code language-cs codeBlock_23N8 thin-scrollbar" style="color:#dddddd;background-color:#24272a"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#dddddd"><span class="token plain">//abstractä¿®é¥°çš„ç±»ï¼Œå«åšæŠ½è±¡ç±»ï¼Œæ˜¯ä¸å…è®¸å®ä¾‹åŒ–çš„ç±»ï¼Œ</span><br></span><span class="token-line" style="color:#dddddd"><span class="token plain">//ä¸èƒ½ç›´æ¥åˆ›å»ºå¯¹è±¡ï¼Œå¿…é¡»è¦é€šè¿‡å­ç±»åˆ›å»ºæ‰èƒ½ä½¿ç”¨abstractç±»çš„æ–¹æ³•ã€‚</span><br></span><span class="token-line" style="color:#dddddd"><span class="token plain">abstract class DataAccess</span><br></span><span class="token-line" style="color:#dddddd"><span class="token plain">{</span><br></span><span class="token-line" style="color:#dddddd"><span class="token plain">    public abstract void OpenConnection();</span><br></span><span class="token-line" style="color:#dddddd"><span class="token plain">    public abstract void CloseConnection();</span><br></span><span class="token-line" style="color:#dddddd"><span class="token plain">    public abstract void ExecuteCommand();</span><br></span><span class="token-line" style="color:#dddddd"><span class="token plain">}</span><br></span><span class="token-line" style="color:#dddddd"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#dddddd"><span class="token plain">/// &lt;summary&gt;</span><br></span><span class="token-line" style="color:#dddddd"><span class="token plain">/// SQL</span><br></span><span class="token-line" style="color:#dddddd"><span class="token plain">/// &lt;/summary&gt;</span><br></span><span class="token-line" style="color:#dddddd"><span class="token plain">class SqlDataAccess : DataAccess</span><br></span><span class="token-line" style="color:#dddddd"><span class="token plain">{</span><br></span><span class="token-line" style="color:#dddddd"><span class="token plain">    /// &lt;summary&gt;</span><br></span><span class="token-line" style="color:#dddddd"><span class="token plain">    /// æ‰“å¼€SQLæ•°æ®åº“</span><br></span><span class="token-line" style="color:#dddddd"><span class="token plain">    /// &lt;/summary&gt;</span><br></span><span class="token-line" style="color:#dddddd"><span class="token plain">    public override void OpenConnection() { }</span><br></span><span class="token-line" style="color:#dddddd"><span class="token plain">    /// &lt;summary&gt;</span><br></span><span class="token-line" style="color:#dddddd"><span class="token plain">    /// å…³é—­Sqlæ•°æ®è¿æ¥</span><br></span><span class="token-line" style="color:#dddddd"><span class="token plain">    /// &lt;/summary&gt;</span><br></span><span class="token-line" style="color:#dddddd"><span class="token plain">    public override void CloseConnection() { }</span><br></span><span class="token-line" style="color:#dddddd"><span class="token plain">    /// &lt;summary&gt;</span><br></span><span class="token-line" style="color:#dddddd"><span class="token plain">    /// æ‰§è¡ŒSqlæ•°æ®å‘½ä»¤</span><br></span><span class="token-line" style="color:#dddddd"><span class="token plain">    /// &lt;/summary&gt;</span><br></span><span class="token-line" style="color:#dddddd"><span class="token plain">    public override void ExecuteCommand() { }</span><br></span><span class="token-line" style="color:#dddddd"><span class="token plain">}</span><br></span><span class="token-line" style="color:#dddddd"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#dddddd"><span class="token plain">/// &lt;summary&gt;</span><br></span><span class="token-line" style="color:#dddddd"><span class="token plain">/// ORACLE</span><br></span><span class="token-line" style="color:#dddddd"><span class="token plain">/// &lt;/summary&gt;</span><br></span><span class="token-line" style="color:#dddddd"><span class="token plain">class OracleDataAccess : DataAccess</span><br></span><span class="token-line" style="color:#dddddd"><span class="token plain">{</span><br></span><span class="token-line" style="color:#dddddd"><span class="token plain">    /// &lt;summary&gt;</span><br></span><span class="token-line" style="color:#dddddd"><span class="token plain">    /// æ‰“å¼€Oracleæ•°æ®è¿æ¥</span><br></span><span class="token-line" style="color:#dddddd"><span class="token plain">    /// &lt;/summary&gt;</span><br></span><span class="token-line" style="color:#dddddd"><span class="token plain">    public override void OpenConnection() { }</span><br></span><span class="token-line" style="color:#dddddd"><span class="token plain">    /// &lt;summary&gt;</span><br></span><span class="token-line" style="color:#dddddd"><span class="token plain">    /// å…³é—­Oracleæ•°æ®è¿æ¥</span><br></span><span class="token-line" style="color:#dddddd"><span class="token plain">    /// &lt;/summary&gt;</span><br></span><span class="token-line" style="color:#dddddd"><span class="token plain">    public override void CloseConnection() { }</span><br></span><span class="token-line" style="color:#dddddd"><span class="token plain">    /// &lt;summary&gt;</span><br></span><span class="token-line" style="color:#dddddd"><span class="token plain">    /// æ‰§è¡ŒOracleæ•°æ®å‘½ä»¤</span><br></span><span class="token-line" style="color:#dddddd"><span class="token plain">    /// &lt;/summary&gt;</span><br></span><span class="token-line" style="color:#dddddd"><span class="token plain">    public override void ExecuteCommand() { }</span><br></span><span class="token-line" style="color:#dddddd"><span class="token plain">}</span><br></span></code></pre><button type="button" aria-label="å¤åˆ¶ä»£ç åˆ°å‰ªè´´æ¿" class="copyButton_Ue-o clean-btn">å¤åˆ¶</button></div></div><p>åœ¨ js ä¸­</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly js"><pre tabindex="0" class="prism-code language-js codeBlock_23N8 thin-scrollbar" style="color:#dddddd;background-color:#24272a"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#dddddd"><span class="token comment" style="color:#737373">//Bad:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#dddddd"><span class="token plain"></span><span class="token keyword" style="color:#FF69B4">class</span><span class="token plain"> </span><span class="token class-name" style="color:#00bfff">AjaxAdapter</span><span class="token plain"> </span><span class="token keyword" style="color:#FF69B4">extends</span><span class="token plain"> </span><span class="token class-name" style="color:#00bfff">Adapter</span><span class="token plain"> </span><span class="token punctuation" style="color:#FF69B4">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#dddddd"><span class="token plain">  </span><span class="token function" style="color:#00E673">constructor</span><span class="token punctuation" style="color:#FF69B4">(</span><span class="token punctuation" style="color:#FF69B4">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#FF69B4">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#dddddd"><span class="token plain">    </span><span class="token keyword" style="color:#FF69B4">super</span><span class="token punctuation" style="color:#FF69B4">(</span><span class="token punctuation" style="color:#FF69B4">)</span><span class="token punctuation" style="color:#FF69B4">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#dddddd"><span class="token plain">    </span><span class="token keyword" style="color:#FF69B4">this</span><span class="token punctuation" style="color:#FF69B4">.</span><span class="token property-access" style="color:#8BE9FD">name</span><span class="token plain"> </span><span class="token operator" style="color:#FF69B4">=</span><span class="token plain"> </span><span class="token string" style="color:#C3E88D">&#x27;ajaxAdapter&#x27;</span><span class="token punctuation" style="color:#FF69B4">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#dddddd"><span class="token plain">  </span><span class="token punctuation" style="color:#FF69B4">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#dddddd"><span class="token plain"></span><span class="token punctuation" style="color:#FF69B4">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#dddddd"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#dddddd"><span class="token plain"></span><span class="token keyword" style="color:#FF69B4">class</span><span class="token plain"> </span><span class="token class-name" style="color:#00bfff">NodeAdapter</span><span class="token plain"> </span><span class="token keyword" style="color:#FF69B4">extends</span><span class="token plain"> </span><span class="token class-name" style="color:#00bfff">Adapter</span><span class="token plain"> </span><span class="token punctuation" style="color:#FF69B4">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#dddddd"><span class="token plain">  </span><span class="token function" style="color:#00E673">constructor</span><span class="token punctuation" style="color:#FF69B4">(</span><span class="token punctuation" style="color:#FF69B4">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#FF69B4">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#dddddd"><span class="token plain">    </span><span class="token keyword" style="color:#FF69B4">super</span><span class="token punctuation" style="color:#FF69B4">(</span><span class="token punctuation" style="color:#FF69B4">)</span><span class="token punctuation" style="color:#FF69B4">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#dddddd"><span class="token plain">    </span><span class="token keyword" style="color:#FF69B4">this</span><span class="token punctuation" style="color:#FF69B4">.</span><span class="token property-access" style="color:#8BE9FD">name</span><span class="token plain"> </span><span class="token operator" style="color:#FF69B4">=</span><span class="token plain"> </span><span class="token string" style="color:#C3E88D">&#x27;nodeAdapter&#x27;</span><span class="token punctuation" style="color:#FF69B4">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#dddddd"><span class="token plain">  </span><span class="token punctuation" style="color:#FF69B4">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#dddddd"><span class="token plain"></span><span class="token punctuation" style="color:#FF69B4">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#dddddd"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#dddddd"><span class="token plain"></span><span class="token keyword" style="color:#FF69B4">class</span><span class="token plain"> </span><span class="token class-name" style="color:#00bfff">HttpRequester</span><span class="token plain"> </span><span class="token punctuation" style="color:#FF69B4">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#dddddd"><span class="token plain">  </span><span class="token function" style="color:#00E673">constructor</span><span class="token punctuation" style="color:#FF69B4">(</span><span class="token parameter" style="color:#FFB86C">adapter</span><span class="token punctuation" style="color:#FF69B4">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#FF69B4">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#dddddd"><span class="token plain">    </span><span class="token keyword" style="color:#FF69B4">this</span><span class="token punctuation" style="color:#FF69B4">.</span><span class="token property-access" style="color:#8BE9FD">adapter</span><span class="token plain"> </span><span class="token operator" style="color:#FF69B4">=</span><span class="token plain"> adapter</span><span class="token punctuation" style="color:#FF69B4">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#dddddd"><span class="token plain">  </span><span class="token punctuation" style="color:#FF69B4">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#dddddd"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#dddddd"><span class="token plain">  </span><span class="token function" style="color:#00E673">fetch</span><span class="token punctuation" style="color:#FF69B4">(</span><span class="token parameter" style="color:#FFB86C">url</span><span class="token punctuation" style="color:#FF69B4">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#FF69B4">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#dddddd"><span class="token plain">    </span><span class="token keyword control-flow" style="color:#FF69B4">if</span><span class="token plain"> </span><span class="token punctuation" style="color:#FF69B4">(</span><span class="token keyword" style="color:#FF69B4">this</span><span class="token punctuation" style="color:#FF69B4">.</span><span class="token property-access" style="color:#8BE9FD">adapter</span><span class="token punctuation" style="color:#FF69B4">.</span><span class="token property-access" style="color:#8BE9FD">name</span><span class="token plain"> </span><span class="token operator" style="color:#FF69B4">===</span><span class="token plain"> </span><span class="token string" style="color:#C3E88D">&#x27;ajaxAdapter&#x27;</span><span class="token punctuation" style="color:#FF69B4">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#FF69B4">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#dddddd"><span class="token plain">      </span><span class="token keyword control-flow" style="color:#FF69B4">return</span><span class="token plain"> </span><span class="token function" style="color:#00E673">makeAjaxCall</span><span class="token punctuation" style="color:#FF69B4">(</span><span class="token plain">url</span><span class="token punctuation" style="color:#FF69B4">)</span><span class="token punctuation" style="color:#FF69B4">.</span><span class="token method function property-access" style="color:#8BE9FD">then</span><span class="token punctuation" style="color:#FF69B4">(</span><span class="token punctuation" style="color:#FF69B4">(</span><span class="token parameter" style="color:#FFB86C">response</span><span class="token punctuation" style="color:#FF69B4">)</span><span class="token plain"> </span><span class="token arrow operator" style="color:#FF69B4">=&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:#FF69B4">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#dddddd"><span class="token plain">        </span><span class="token comment" style="color:#737373">// ä¼ é€’ response å¹¶ return</span><span class="token plain"></span><br></span><span class="token-line" style="color:#dddddd"><span class="token plain">      </span><span class="token punctuation" style="color:#FF69B4">}</span><span class="token punctuation" style="color:#FF69B4">)</span><span class="token punctuation" style="color:#FF69B4">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#dddddd"><span class="token plain">    </span><span class="token punctuation" style="color:#FF69B4">}</span><span class="token plain"> </span><span class="token keyword control-flow" style="color:#FF69B4">else</span><span class="token plain"> </span><span class="token keyword control-flow" style="color:#FF69B4">if</span><span class="token plain"> </span><span class="token punctuation" style="color:#FF69B4">(</span><span class="token keyword" style="color:#FF69B4">this</span><span class="token punctuation" style="color:#FF69B4">.</span><span class="token property-access" style="color:#8BE9FD">adapter</span><span class="token punctuation" style="color:#FF69B4">.</span><span class="token property-access" style="color:#8BE9FD">name</span><span class="token plain"> </span><span class="token operator" style="color:#FF69B4">===</span><span class="token plain"> </span><span class="token string" style="color:#C3E88D">&#x27;httpNodeAdapter&#x27;</span><span class="token punctuation" style="color:#FF69B4">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#FF69B4">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#dddddd"><span class="token plain">      </span><span class="token keyword control-flow" style="color:#FF69B4">return</span><span class="token plain"> </span><span class="token function" style="color:#00E673">makeHttpCall</span><span class="token punctuation" style="color:#FF69B4">(</span><span class="token plain">url</span><span class="token punctuation" style="color:#FF69B4">)</span><span class="token punctuation" style="color:#FF69B4">.</span><span class="token method function property-access" style="color:#8BE9FD">then</span><span class="token punctuation" style="color:#FF69B4">(</span><span class="token punctuation" style="color:#FF69B4">(</span><span class="token parameter" style="color:#FFB86C">response</span><span class="token punctuation" style="color:#FF69B4">)</span><span class="token plain"> </span><span class="token arrow operator" style="color:#FF69B4">=&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:#FF69B4">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#dddddd"><span class="token plain">        </span><span class="token comment" style="color:#737373">// ä¼ é€’ response å¹¶ return</span><span class="token plain"></span><br></span><span class="token-line" style="color:#dddddd"><span class="token plain">      </span><span class="token punctuation" style="color:#FF69B4">}</span><span class="token punctuation" style="color:#FF69B4">)</span><span class="token punctuation" style="color:#FF69B4">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#dddddd"><span class="token plain">    </span><span class="token punctuation" style="color:#FF69B4">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#dddddd"><span class="token plain">  </span><span class="token punctuation" style="color:#FF69B4">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#dddddd"><span class="token plain"></span><span class="token punctuation" style="color:#FF69B4">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#dddddd"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#dddddd"><span class="token plain"></span><span class="token keyword" style="color:#FF69B4">function</span><span class="token plain"> </span><span class="token function" style="color:#00E673">makeAjaxCall</span><span class="token punctuation" style="color:#FF69B4">(</span><span class="token parameter" style="color:#FFB86C">url</span><span class="token punctuation" style="color:#FF69B4">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#FF69B4">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#dddddd"><span class="token plain">  </span><span class="token comment" style="color:#737373">// å¤„ç† request å¹¶ return promise</span><span class="token plain"></span><br></span><span class="token-line" style="color:#dddddd"><span class="token plain"></span><span class="token punctuation" style="color:#FF69B4">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#dddddd"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#dddddd"><span class="token plain"></span><span class="token keyword" style="color:#FF69B4">function</span><span class="token plain"> </span><span class="token function" style="color:#00E673">makeHttpCall</span><span class="token punctuation" style="color:#FF69B4">(</span><span class="token parameter" style="color:#FFB86C">url</span><span class="token punctuation" style="color:#FF69B4">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#FF69B4">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#dddddd"><span class="token plain">  </span><span class="token comment" style="color:#737373">// å¤„ç† request å¹¶ return promise</span><span class="token plain"></span><br></span><span class="token-line" style="color:#dddddd"><span class="token plain"></span><span class="token punctuation" style="color:#FF69B4">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#dddddd"><span class="token plain"></span><span class="token comment" style="color:#737373">//Good:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#dddddd"><span class="token plain"></span><span class="token keyword" style="color:#FF69B4">class</span><span class="token plain"> </span><span class="token class-name" style="color:#00bfff">AjaxAdapter</span><span class="token plain"> </span><span class="token keyword" style="color:#FF69B4">extends</span><span class="token plain"> </span><span class="token class-name" style="color:#00bfff">Adapter</span><span class="token plain"> </span><span class="token punctuation" style="color:#FF69B4">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#dddddd"><span class="token plain">  </span><span class="token function" style="color:#00E673">constructor</span><span class="token punctuation" style="color:#FF69B4">(</span><span class="token punctuation" style="color:#FF69B4">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#FF69B4">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#dddddd"><span class="token plain">    </span><span class="token keyword" style="color:#FF69B4">super</span><span class="token punctuation" style="color:#FF69B4">(</span><span class="token punctuation" style="color:#FF69B4">)</span><span class="token punctuation" style="color:#FF69B4">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#dddddd"><span class="token plain">    </span><span class="token keyword" style="color:#FF69B4">this</span><span class="token punctuation" style="color:#FF69B4">.</span><span class="token property-access" style="color:#8BE9FD">name</span><span class="token plain"> </span><span class="token operator" style="color:#FF69B4">=</span><span class="token plain"> </span><span class="token string" style="color:#C3E88D">&#x27;ajaxAdapter&#x27;</span><span class="token punctuation" style="color:#FF69B4">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#dddddd"><span class="token plain">  </span><span class="token punctuation" style="color:#FF69B4">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#dddddd"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#dddddd"><span class="token plain">  </span><span class="token function" style="color:#00E673">request</span><span class="token punctuation" style="color:#FF69B4">(</span><span class="token parameter" style="color:#FFB86C">url</span><span class="token punctuation" style="color:#FF69B4">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#FF69B4">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#dddddd"><span class="token plain">    </span><span class="token comment" style="color:#737373">// å¤„ç† request å¹¶ return promise</span><span class="token plain"></span><br></span><span class="token-line" style="color:#dddddd"><span class="token plain">  </span><span class="token punctuation" style="color:#FF69B4">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#dddddd"><span class="token plain"></span><span class="token punctuation" style="color:#FF69B4">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#dddddd"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#dddddd"><span class="token plain"></span><span class="token keyword" style="color:#FF69B4">class</span><span class="token plain"> </span><span class="token class-name" style="color:#00bfff">NodeAdapter</span><span class="token plain"> </span><span class="token keyword" style="color:#FF69B4">extends</span><span class="token plain"> </span><span class="token class-name" style="color:#00bfff">Adapter</span><span class="token plain"> </span><span class="token punctuation" style="color:#FF69B4">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#dddddd"><span class="token plain">  </span><span class="token function" style="color:#00E673">constructor</span><span class="token punctuation" style="color:#FF69B4">(</span><span class="token punctuation" style="color:#FF69B4">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#FF69B4">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#dddddd"><span class="token plain">    </span><span class="token keyword" style="color:#FF69B4">super</span><span class="token punctuation" style="color:#FF69B4">(</span><span class="token punctuation" style="color:#FF69B4">)</span><span class="token punctuation" style="color:#FF69B4">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#dddddd"><span class="token plain">    </span><span class="token keyword" style="color:#FF69B4">this</span><span class="token punctuation" style="color:#FF69B4">.</span><span class="token property-access" style="color:#8BE9FD">name</span><span class="token plain"> </span><span class="token operator" style="color:#FF69B4">=</span><span class="token plain"> </span><span class="token string" style="color:#C3E88D">&#x27;nodeAdapter&#x27;</span><span class="token punctuation" style="color:#FF69B4">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#dddddd"><span class="token plain">  </span><span class="token punctuation" style="color:#FF69B4">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#dddddd"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#dddddd"><span class="token plain">  </span><span class="token function" style="color:#00E673">request</span><span class="token punctuation" style="color:#FF69B4">(</span><span class="token parameter" style="color:#FFB86C">url</span><span class="token punctuation" style="color:#FF69B4">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#FF69B4">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#dddddd"><span class="token plain">    </span><span class="token comment" style="color:#737373">// å¤„ç† request å¹¶ return promise</span><span class="token plain"></span><br></span><span class="token-line" style="color:#dddddd"><span class="token plain">  </span><span class="token punctuation" style="color:#FF69B4">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#dddddd"><span class="token plain"></span><span class="token punctuation" style="color:#FF69B4">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#dddddd"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#dddddd"><span class="token plain"></span><span class="token keyword" style="color:#FF69B4">class</span><span class="token plain"> </span><span class="token class-name" style="color:#00bfff">HttpRequester</span><span class="token plain"> </span><span class="token punctuation" style="color:#FF69B4">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#dddddd"><span class="token plain">  </span><span class="token function" style="color:#00E673">constructor</span><span class="token punctuation" style="color:#FF69B4">(</span><span class="token parameter" style="color:#FFB86C">adapter</span><span class="token punctuation" style="color:#FF69B4">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#FF69B4">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#dddddd"><span class="token plain">    </span><span class="token keyword" style="color:#FF69B4">this</span><span class="token punctuation" style="color:#FF69B4">.</span><span class="token property-access" style="color:#8BE9FD">adapter</span><span class="token plain"> </span><span class="token operator" style="color:#FF69B4">=</span><span class="token plain"> adapter</span><span class="token punctuation" style="color:#FF69B4">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#dddddd"><span class="token plain">  </span><span class="token punctuation" style="color:#FF69B4">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#dddddd"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#dddddd"><span class="token plain">  </span><span class="token function" style="color:#00E673">fetch</span><span class="token punctuation" style="color:#FF69B4">(</span><span class="token parameter" style="color:#FFB86C">url</span><span class="token punctuation" style="color:#FF69B4">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#FF69B4">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#dddddd"><span class="token plain">    </span><span class="token keyword control-flow" style="color:#FF69B4">return</span><span class="token plain"> </span><span class="token keyword" style="color:#FF69B4">this</span><span class="token punctuation" style="color:#FF69B4">.</span><span class="token property-access" style="color:#8BE9FD">adapter</span><span class="token punctuation" style="color:#FF69B4">.</span><span class="token method function property-access" style="color:#8BE9FD">request</span><span class="token punctuation" style="color:#FF69B4">(</span><span class="token plain">url</span><span class="token punctuation" style="color:#FF69B4">)</span><span class="token punctuation" style="color:#FF69B4">.</span><span class="token method function property-access" style="color:#8BE9FD">then</span><span class="token punctuation" style="color:#FF69B4">(</span><span class="token punctuation" style="color:#FF69B4">(</span><span class="token parameter" style="color:#FFB86C">response</span><span class="token punctuation" style="color:#FF69B4">)</span><span class="token plain"> </span><span class="token arrow operator" style="color:#FF69B4">=&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:#FF69B4">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#dddddd"><span class="token plain">      </span><span class="token comment" style="color:#737373">// ä¼ é€’ response å¹¶ return</span><span class="token plain"></span><br></span><span class="token-line" style="color:#dddddd"><span class="token plain">    </span><span class="token punctuation" style="color:#FF69B4">}</span><span class="token punctuation" style="color:#FF69B4">)</span><span class="token punctuation" style="color:#FF69B4">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#dddddd"><span class="token plain">  </span><span class="token punctuation" style="color:#FF69B4">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#dddddd"><span class="token plain"></span><span class="token punctuation" style="color:#FF69B4">}</span><br></span></code></pre><button type="button" aria-label="å¤åˆ¶ä»£ç åˆ°å‰ªè´´æ¿" class="copyButton_Ue-o clean-btn">å¤åˆ¶</button></div></div><h3 class="anchor anchorWithHideOnScrollNavbar_3R7-" id="æ›¿æ¢åŸåˆ™--l">â¾¥â½’æ›¿æ¢åŸåˆ™ | L<a aria-hidden="true" class="hash-link" href="#æ›¿æ¢åŸåˆ™--l" title="æ ‡é¢˜çš„ç›´æ¥é“¾æ¥">â€‹</a></h3><p>â¾¥â½’æ›¿æ¢åŸåˆ™ï¼ˆLiskov Substitution Principleï¼‰ï¼šâ¾¥â½’æ›¿æ¢åŸåˆ™ è®¤ä¸ºâ€œç¨‹åºä¸­çš„å¯¹è±¡åº”è¯¥æ˜¯å¯ä»¥åœ¨ä¸æ”¹å˜ç¨‹åºæ­£ç¡®æ€§çš„å‰æä¸‹è¢«å®ƒçš„â¼¦ç±»æ‰€æ›¿æ¢çš„â€çš„æ¦‚å¿µã€‚</p><p><strong>â¼¦ç±»å¿…é¡»èƒ½å¤Ÿæ›¿æ¢æˆå®ƒä»¬çš„åŸºç±»</strong>ã€‚å³ï¼šâ¼¦ç±»åº”è¯¥å¯ä»¥æ›¿æ¢ä»»ä½•åŸºç±»èƒ½å¤Ÿå‡ºç°çš„åœ°â½…ï¼Œå¹¶ä¸”ç»è¿‡æ›¿æ¢ä»¥åï¼Œä»£ç è¿˜èƒ½æ­£å¸¸â¼¯ä½œã€‚å¦å¤–ï¼Œä¸åº”è¯¥ åœ¨ä»£ç ä¸­å‡ºç°if/elseä¹‹ç±»å¯¹â¼¦ç±»ç±»å‹è¿›â¾åˆ¤æ–­çš„æ¡ä»¶ã€‚â¾¥â½’æ›¿æ¢åŸåˆ™LSPæ˜¯ä½¿ä»£ç ç¬¦åˆå¼€é—­åŸåˆ™çš„â¼€ä¸ªé‡è¦ä¿è¯ã€‚æ­£æ˜¯ç”±äºâ¼¦ç±»å‹çš„å¯æ›¿æ¢æ€§æ‰ä½¿å¾—â½—ç±» å‹çš„æ¨¡å—åœ¨â½†éœ€ä¿®æ”¹çš„æƒ…å†µä¸‹å°±å¯ä»¥æ‰©å±•ã€‚åœ¨å¾ˆå¤šæƒ…å†µä¸‹ï¼Œåœ¨è®¾è®¡åˆæœŸæˆ‘ä»¬ç±»ä¹‹é—´çš„å…³ç³»ä¸æ˜¯å¾ˆæ˜ç¡®ï¼ŒLSPåˆ™ç»™äº†æˆ‘ä»¬â¼€ä¸ªåˆ¤æ–­å’Œè®¾è®¡ç±»ä¹‹é—´å…³ç³»çš„åŸºå‡†ï¼šéœ€ä¸éœ€ è¦ç»§æ‰¿ï¼Œä»¥åŠæ€æ ·è®¾è®¡ç»§æ‰¿å…³ç³»ã€‚</p><p>å½“â¼€ä¸ªâ¼¦ç±»çš„å®ä¾‹åº”è¯¥èƒ½å¤Ÿæ›¿æ¢ä»»ä½•å…¶è¶…ç±»çš„å®ä¾‹æ—¶ï¼Œå®ƒä»¬ä¹‹é—´æ‰å…·æœ‰is-Aå…³ç³»ã€‚ç»§æ‰¿å¯¹äºOCPï¼Œå°±ç›¸å½“äºå¤šæ€æ€§å¯¹äºâ¾¥â½’æ›¿æ¢åŸåˆ™ã€‚â¼¦ç±»å¯ä»¥ä»£æ›¿åŸºç±»ï¼Œå®¢æˆ·ä½¿â½¤åŸºç±»ï¼Œä»–ä»¬ä¸éœ€è¦çŸ¥é“æ´¾â½£ç±»æ‰€åšçš„äº‹æƒ…ã€‚è¿™æ˜¯â¼€ä¸ªé’ˆå¯¹â¾ä¸ºèŒè´£å¯æ›¿ä»£çš„åŸåˆ™ï¼Œå¦‚æœSæ˜¯Tçš„â¼¦ç±»å‹ï¼Œé‚£ä¹ˆSå¯¹è±¡å°±åº”è¯¥åœ¨ä¸æ”¹å˜ä»»ä½•æŠ½è±¡å±æ€§æƒ…å†µä¸‹æ›¿æ¢æ‰€æœ‰Tå¯¹è±¡ã€‚</p><p>C# ä¸­</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly cs"><pre tabindex="0" class="prism-code language-cs codeBlock_23N8 thin-scrollbar" style="color:#dddddd;background-color:#24272a"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#dddddd"><span class="token plain">class Rectangle</span><br></span><span class="token-line" style="color:#dddddd"><span class="token plain">{</span><br></span><span class="token-line" style="color:#dddddd"><span class="token plain">    protected int width = 0;</span><br></span><span class="token-line" style="color:#dddddd"><span class="token plain">    protected int height = 0;</span><br></span><span class="token-line" style="color:#dddddd"><span class="token plain">    public virtual void SetWidth(int width)</span><br></span><span class="token-line" style="color:#dddddd"><span class="token plain">    {</span><br></span><span class="token-line" style="color:#dddddd"><span class="token plain">        this.width = width;</span><br></span><span class="token-line" style="color:#dddddd"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#dddddd"><span class="token plain">    public virtual void SetHeight(int height)</span><br></span><span class="token-line" style="color:#dddddd"><span class="token plain">    {</span><br></span><span class="token-line" style="color:#dddddd"><span class="token plain">        this.height = height;</span><br></span><span class="token-line" style="color:#dddddd"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#dddddd"><span class="token plain">    public virtual int GetArea()</span><br></span><span class="token-line" style="color:#dddddd"><span class="token plain">    {</span><br></span><span class="token-line" style="color:#dddddd"><span class="token plain">        return this.width * this.height;</span><br></span><span class="token-line" style="color:#dddddd"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#dddddd"><span class="token plain">}</span><br></span><span class="token-line" style="color:#dddddd"><span class="token plain">class Square : Rectangle</span><br></span><span class="token-line" style="color:#dddddd"><span class="token plain">{</span><br></span><span class="token-line" style="color:#dddddd"><span class="token plain">    public override void SetHeight(int height)</span><br></span><span class="token-line" style="color:#dddddd"><span class="token plain">    {</span><br></span><span class="token-line" style="color:#dddddd"><span class="token plain">        this.height = height;</span><br></span><span class="token-line" style="color:#dddddd"><span class="token plain">        this.width = height;</span><br></span><span class="token-line" style="color:#dddddd"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#dddddd"><span class="token plain">    public override void SetWidth(int width)</span><br></span><span class="token-line" style="color:#dddddd"><span class="token plain">    {</span><br></span><span class="token-line" style="color:#dddddd"><span class="token plain">        this.height = width;</span><br></span><span class="token-line" style="color:#dddddd"><span class="token plain">        this.width = width;</span><br></span><span class="token-line" style="color:#dddddd"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#dddddd"><span class="token plain">}</span><br></span></code></pre><button type="button" aria-label="å¤åˆ¶ä»£ç åˆ°å‰ªè´´æ¿" class="copyButton_Ue-o clean-btn">å¤åˆ¶</button></div></div><p>åœ¨ js ä¸­</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly js"><pre tabindex="0" class="prism-code language-js codeBlock_23N8 thin-scrollbar" style="color:#dddddd;background-color:#24272a"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#dddddd"><span class="token comment" style="color:#737373">//Bad:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#dddddd"><span class="token plain"></span><span class="token comment" style="color:#737373">// é•¿æ–¹å½¢</span><span class="token plain"></span><br></span><span class="token-line" style="color:#dddddd"><span class="token plain"></span><span class="token keyword" style="color:#FF69B4">class</span><span class="token plain"> </span><span class="token class-name" style="color:#00bfff">Rectangle</span><span class="token plain"> </span><span class="token punctuation" style="color:#FF69B4">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#dddddd"><span class="token plain">  </span><span class="token function" style="color:#00E673">constructor</span><span class="token punctuation" style="color:#FF69B4">(</span><span class="token punctuation" style="color:#FF69B4">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#FF69B4">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#dddddd"><span class="token plain">    </span><span class="token keyword" style="color:#FF69B4">this</span><span class="token punctuation" style="color:#FF69B4">.</span><span class="token property-access" style="color:#8BE9FD">width</span><span class="token plain"> </span><span class="token operator" style="color:#FF69B4">=</span><span class="token plain"> </span><span class="token number" style="color:#BD93F9">0</span><span class="token punctuation" style="color:#FF69B4">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#dddddd"><span class="token plain">    </span><span class="token keyword" style="color:#FF69B4">this</span><span class="token punctuation" style="color:#FF69B4">.</span><span class="token property-access" style="color:#8BE9FD">height</span><span class="token plain"> </span><span class="token operator" style="color:#FF69B4">=</span><span class="token plain"> </span><span class="token number" style="color:#BD93F9">0</span><span class="token punctuation" style="color:#FF69B4">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#dddddd"><span class="token plain">  </span><span class="token punctuation" style="color:#FF69B4">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#dddddd"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#dddddd"><span class="token plain">  </span><span class="token function" style="color:#00E673">setColor</span><span class="token punctuation" style="color:#FF69B4">(</span><span class="token parameter" style="color:#FFB86C">color</span><span class="token punctuation" style="color:#FF69B4">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#FF69B4">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#dddddd"><span class="token plain">    </span><span class="token comment" style="color:#737373">// ...</span><span class="token plain"></span><br></span><span class="token-line" style="color:#dddddd"><span class="token plain">  </span><span class="token punctuation" style="color:#FF69B4">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#dddddd"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#dddddd"><span class="token plain">  </span><span class="token function" style="color:#00E673">render</span><span class="token punctuation" style="color:#FF69B4">(</span><span class="token parameter" style="color:#FFB86C">area</span><span class="token punctuation" style="color:#FF69B4">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#FF69B4">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#dddddd"><span class="token plain">    </span><span class="token comment" style="color:#737373">// ...</span><span class="token plain"></span><br></span><span class="token-line" style="color:#dddddd"><span class="token plain">  </span><span class="token punctuation" style="color:#FF69B4">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#dddddd"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#dddddd"><span class="token plain">  </span><span class="token function" style="color:#00E673">setWidth</span><span class="token punctuation" style="color:#FF69B4">(</span><span class="token parameter" style="color:#FFB86C">width</span><span class="token punctuation" style="color:#FF69B4">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#FF69B4">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#dddddd"><span class="token plain">    </span><span class="token keyword" style="color:#FF69B4">this</span><span class="token punctuation" style="color:#FF69B4">.</span><span class="token property-access" style="color:#8BE9FD">width</span><span class="token plain"> </span><span class="token operator" style="color:#FF69B4">=</span><span class="token plain"> width</span><span class="token punctuation" style="color:#FF69B4">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#dddddd"><span class="token plain">  </span><span class="token punctuation" style="color:#FF69B4">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#dddddd"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#dddddd"><span class="token plain">  </span><span class="token function" style="color:#00E673">setHeight</span><span class="token punctuation" style="color:#FF69B4">(</span><span class="token parameter" style="color:#FFB86C">height</span><span class="token punctuation" style="color:#FF69B4">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#FF69B4">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#dddddd"><span class="token plain">    </span><span class="token keyword" style="color:#FF69B4">this</span><span class="token punctuation" style="color:#FF69B4">.</span><span class="token property-access" style="color:#8BE9FD">height</span><span class="token plain"> </span><span class="token operator" style="color:#FF69B4">=</span><span class="token plain"> height</span><span class="token punctuation" style="color:#FF69B4">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#dddddd"><span class="token plain">  </span><span class="token punctuation" style="color:#FF69B4">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#dddddd"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#dddddd"><span class="token plain">  </span><span class="token function" style="color:#00E673">getArea</span><span class="token punctuation" style="color:#FF69B4">(</span><span class="token punctuation" style="color:#FF69B4">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#FF69B4">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#dddddd"><span class="token plain">    </span><span class="token keyword control-flow" style="color:#FF69B4">return</span><span class="token plain"> </span><span class="token keyword" style="color:#FF69B4">this</span><span class="token punctuation" style="color:#FF69B4">.</span><span class="token property-access" style="color:#8BE9FD">width</span><span class="token plain"> </span><span class="token operator" style="color:#FF69B4">*</span><span class="token plain"> </span><span class="token keyword" style="color:#FF69B4">this</span><span class="token punctuation" style="color:#FF69B4">.</span><span class="token property-access" style="color:#8BE9FD">height</span><span class="token punctuation" style="color:#FF69B4">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#dddddd"><span class="token plain">  </span><span class="token punctuation" style="color:#FF69B4">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#dddddd"><span class="token plain"></span><span class="token punctuation" style="color:#FF69B4">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#dddddd"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#dddddd"><span class="token plain"></span><span class="token comment" style="color:#737373">// æ­£æ–¹å½¢</span><span class="token plain"></span><br></span><span class="token-line" style="color:#dddddd"><span class="token plain"></span><span class="token keyword" style="color:#FF69B4">class</span><span class="token plain"> </span><span class="token class-name" style="color:#00bfff">Square</span><span class="token plain"> </span><span class="token keyword" style="color:#FF69B4">extends</span><span class="token plain"> </span><span class="token class-name" style="color:#00bfff">Rectangle</span><span class="token plain"> </span><span class="token punctuation" style="color:#FF69B4">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#dddddd"><span class="token plain">  </span><span class="token function" style="color:#00E673">setWidth</span><span class="token punctuation" style="color:#FF69B4">(</span><span class="token parameter" style="color:#FFB86C">width</span><span class="token punctuation" style="color:#FF69B4">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#FF69B4">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#dddddd"><span class="token plain">    </span><span class="token keyword" style="color:#FF69B4">this</span><span class="token punctuation" style="color:#FF69B4">.</span><span class="token property-access" style="color:#8BE9FD">width</span><span class="token plain"> </span><span class="token operator" style="color:#FF69B4">=</span><span class="token plain"> width</span><span class="token punctuation" style="color:#FF69B4">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#dddddd"><span class="token plain">    </span><span class="token keyword" style="color:#FF69B4">this</span><span class="token punctuation" style="color:#FF69B4">.</span><span class="token property-access" style="color:#8BE9FD">height</span><span class="token plain"> </span><span class="token operator" style="color:#FF69B4">=</span><span class="token plain"> width</span><span class="token punctuation" style="color:#FF69B4">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#dddddd"><span class="token plain">  </span><span class="token punctuation" style="color:#FF69B4">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#dddddd"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#dddddd"><span class="token plain">  </span><span class="token function" style="color:#00E673">setHeight</span><span class="token punctuation" style="color:#FF69B4">(</span><span class="token parameter" style="color:#FFB86C">height</span><span class="token punctuation" style="color:#FF69B4">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#FF69B4">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#dddddd"><span class="token plain">    </span><span class="token keyword" style="color:#FF69B4">this</span><span class="token punctuation" style="color:#FF69B4">.</span><span class="token property-access" style="color:#8BE9FD">width</span><span class="token plain"> </span><span class="token operator" style="color:#FF69B4">=</span><span class="token plain"> height</span><span class="token punctuation" style="color:#FF69B4">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#dddddd"><span class="token plain">    </span><span class="token keyword" style="color:#FF69B4">this</span><span class="token punctuation" style="color:#FF69B4">.</span><span class="token property-access" style="color:#8BE9FD">height</span><span class="token plain"> </span><span class="token operator" style="color:#FF69B4">=</span><span class="token plain"> height</span><span class="token punctuation" style="color:#FF69B4">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#dddddd"><span class="token plain">  </span><span class="token punctuation" style="color:#FF69B4">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#dddddd"><span class="token plain"></span><span class="token punctuation" style="color:#FF69B4">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#dddddd"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#dddddd"><span class="token plain"></span><span class="token keyword" style="color:#FF69B4">function</span><span class="token plain"> </span><span class="token function" style="color:#00E673">renderLargeRectangles</span><span class="token punctuation" style="color:#FF69B4">(</span><span class="token parameter" style="color:#FFB86C">rectangles</span><span class="token punctuation" style="color:#FF69B4">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#FF69B4">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#dddddd"><span class="token plain">  rectangles</span><span class="token punctuation" style="color:#FF69B4">.</span><span class="token method function property-access" style="color:#8BE9FD">forEach</span><span class="token punctuation" style="color:#FF69B4">(</span><span class="token punctuation" style="color:#FF69B4">(</span><span class="token parameter" style="color:#FFB86C">rectangle</span><span class="token punctuation" style="color:#FF69B4">)</span><span class="token plain"> </span><span class="token arrow operator" style="color:#FF69B4">=&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:#FF69B4">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#dddddd"><span class="token plain">    rectangle</span><span class="token punctuation" style="color:#FF69B4">.</span><span class="token method function property-access" style="color:#8BE9FD">setWidth</span><span class="token punctuation" style="color:#FF69B4">(</span><span class="token number" style="color:#BD93F9">4</span><span class="token punctuation" style="color:#FF69B4">)</span><span class="token punctuation" style="color:#FF69B4">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#dddddd"><span class="token plain">    rectangle</span><span class="token punctuation" style="color:#FF69B4">.</span><span class="token method function property-access" style="color:#8BE9FD">setHeight</span><span class="token punctuation" style="color:#FF69B4">(</span><span class="token number" style="color:#BD93F9">5</span><span class="token punctuation" style="color:#FF69B4">)</span><span class="token punctuation" style="color:#FF69B4">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#dddddd"><span class="token plain">    </span><span class="token keyword" style="color:#FF69B4">const</span><span class="token plain"> area </span><span class="token operator" style="color:#FF69B4">=</span><span class="token plain"> rectangle</span><span class="token punctuation" style="color:#FF69B4">.</span><span class="token method function property-access" style="color:#8BE9FD">getArea</span><span class="token punctuation" style="color:#FF69B4">(</span><span class="token punctuation" style="color:#FF69B4">)</span><span class="token punctuation" style="color:#FF69B4">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#dddddd"><span class="token plain">    rectangle</span><span class="token punctuation" style="color:#FF69B4">.</span><span class="token method function property-access" style="color:#8BE9FD">render</span><span class="token punctuation" style="color:#FF69B4">(</span><span class="token plain">area</span><span class="token punctuation" style="color:#FF69B4">)</span><span class="token punctuation" style="color:#FF69B4">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#dddddd"><span class="token plain">  </span><span class="token punctuation" style="color:#FF69B4">}</span><span class="token punctuation" style="color:#FF69B4">)</span><span class="token punctuation" style="color:#FF69B4">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#dddddd"><span class="token plain"></span><span class="token punctuation" style="color:#FF69B4">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#dddddd"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#dddddd"><span class="token plain"></span><span class="token keyword" style="color:#FF69B4">const</span><span class="token plain"> rectangles </span><span class="token operator" style="color:#FF69B4">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#FF69B4">[</span><span class="token keyword" style="color:#FF69B4">new</span><span class="token plain"> </span><span class="token class-name" style="color:#00bfff">Rectangle</span><span class="token punctuation" style="color:#FF69B4">(</span><span class="token punctuation" style="color:#FF69B4">)</span><span class="token punctuation" style="color:#FF69B4">,</span><span class="token plain"> </span><span class="token keyword" style="color:#FF69B4">new</span><span class="token plain"> </span><span class="token class-name" style="color:#00bfff">Rectangle</span><span class="token punctuation" style="color:#FF69B4">(</span><span class="token punctuation" style="color:#FF69B4">)</span><span class="token punctuation" style="color:#FF69B4">,</span><span class="token plain"> </span><span class="token keyword" style="color:#FF69B4">new</span><span class="token plain"> </span><span class="token class-name" style="color:#00bfff">Square</span><span class="token punctuation" style="color:#FF69B4">(</span><span class="token punctuation" style="color:#FF69B4">)</span><span class="token punctuation" style="color:#FF69B4">]</span><span class="token punctuation" style="color:#FF69B4">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#dddddd"><span class="token plain"></span><span class="token function" style="color:#00E673">renderLargeRectangles</span><span class="token punctuation" style="color:#FF69B4">(</span><span class="token plain">rectangles</span><span class="token punctuation" style="color:#FF69B4">)</span><span class="token punctuation" style="color:#FF69B4">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#dddddd"><span class="token plain"></span><span class="token comment" style="color:#737373">//===============================================================</span><span class="token plain"></span><br></span><span class="token-line" style="color:#dddddd"><span class="token plain"></span><span class="token comment" style="color:#737373">//Good</span><span class="token plain"></span><br></span><span class="token-line" style="color:#dddddd"><span class="token plain"></span><span class="token keyword" style="color:#FF69B4">class</span><span class="token plain"> </span><span class="token class-name" style="color:#00bfff">Shape</span><span class="token plain"> </span><span class="token punctuation" style="color:#FF69B4">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#dddddd"><span class="token plain">  </span><span class="token function" style="color:#00E673">setColor</span><span class="token punctuation" style="color:#FF69B4">(</span><span class="token parameter" style="color:#FFB86C">color</span><span class="token punctuation" style="color:#FF69B4">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#FF69B4">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#dddddd"><span class="token plain">    </span><span class="token comment" style="color:#737373">// ...</span><span class="token plain"></span><br></span><span class="token-line" style="color:#dddddd"><span class="token plain">  </span><span class="token punctuation" style="color:#FF69B4">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#dddddd"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#dddddd"><span class="token plain">  </span><span class="token function" style="color:#00E673">render</span><span class="token punctuation" style="color:#FF69B4">(</span><span class="token parameter" style="color:#FFB86C">area</span><span class="token punctuation" style="color:#FF69B4">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#FF69B4">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#dddddd"><span class="token plain">    </span><span class="token comment" style="color:#737373">// ...</span><span class="token plain"></span><br></span><span class="token-line" style="color:#dddddd"><span class="token plain">  </span><span class="token punctuation" style="color:#FF69B4">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#dddddd"><span class="token plain"></span><span class="token punctuation" style="color:#FF69B4">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#dddddd"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#dddddd"><span class="token plain"></span><span class="token keyword" style="color:#FF69B4">class</span><span class="token plain"> </span><span class="token class-name" style="color:#00bfff">Rectangle</span><span class="token plain"> </span><span class="token keyword" style="color:#FF69B4">extends</span><span class="token plain"> </span><span class="token class-name" style="color:#00bfff">Shape</span><span class="token plain"> </span><span class="token punctuation" style="color:#FF69B4">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#dddddd"><span class="token plain">  </span><span class="token function" style="color:#00E673">constructor</span><span class="token punctuation" style="color:#FF69B4">(</span><span class="token parameter" style="color:#FFB86C">width</span><span class="token parameter punctuation" style="color:#FF69B4">,</span><span class="token parameter" style="color:#FFB86C"> height</span><span class="token punctuation" style="color:#FF69B4">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#FF69B4">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#dddddd"><span class="token plain">    </span><span class="token keyword" style="color:#FF69B4">super</span><span class="token punctuation" style="color:#FF69B4">(</span><span class="token punctuation" style="color:#FF69B4">)</span><span class="token punctuation" style="color:#FF69B4">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#dddddd"><span class="token plain">    </span><span class="token keyword" style="color:#FF69B4">this</span><span class="token punctuation" style="color:#FF69B4">.</span><span class="token property-access" style="color:#8BE9FD">width</span><span class="token plain"> </span><span class="token operator" style="color:#FF69B4">=</span><span class="token plain"> width</span><span class="token punctuation" style="color:#FF69B4">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#dddddd"><span class="token plain">    </span><span class="token keyword" style="color:#FF69B4">this</span><span class="token punctuation" style="color:#FF69B4">.</span><span class="token property-access" style="color:#8BE9FD">height</span><span class="token plain"> </span><span class="token operator" style="color:#FF69B4">=</span><span class="token plain"> height</span><span class="token punctuation" style="color:#FF69B4">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#dddddd"><span class="token plain">  </span><span class="token punctuation" style="color:#FF69B4">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#dddddd"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#dddddd"><span class="token plain">  </span><span class="token function" style="color:#00E673">getArea</span><span class="token punctuation" style="color:#FF69B4">(</span><span class="token punctuation" style="color:#FF69B4">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#FF69B4">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#dddddd"><span class="token plain">    </span><span class="token keyword control-flow" style="color:#FF69B4">return</span><span class="token plain"> </span><span class="token keyword" style="color:#FF69B4">this</span><span class="token punctuation" style="color:#FF69B4">.</span><span class="token property-access" style="color:#8BE9FD">width</span><span class="token plain"> </span><span class="token operator" style="color:#FF69B4">*</span><span class="token plain"> </span><span class="token keyword" style="color:#FF69B4">this</span><span class="token punctuation" style="color:#FF69B4">.</span><span class="token property-access" style="color:#8BE9FD">height</span><span class="token punctuation" style="color:#FF69B4">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#dddddd"><span class="token plain">  </span><span class="token punctuation" style="color:#FF69B4">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#dddddd"><span class="token plain"></span><span class="token punctuation" style="color:#FF69B4">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#dddddd"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#dddddd"><span class="token plain"></span><span class="token keyword" style="color:#FF69B4">class</span><span class="token plain"> </span><span class="token class-name" style="color:#00bfff">Square</span><span class="token plain"> </span><span class="token keyword" style="color:#FF69B4">extends</span><span class="token plain"> </span><span class="token class-name" style="color:#00bfff">Shape</span><span class="token plain"> </span><span class="token punctuation" style="color:#FF69B4">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#dddddd"><span class="token plain">  </span><span class="token function" style="color:#00E673">constructor</span><span class="token punctuation" style="color:#FF69B4">(</span><span class="token parameter" style="color:#FFB86C">length</span><span class="token punctuation" style="color:#FF69B4">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#FF69B4">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#dddddd"><span class="token plain">    </span><span class="token keyword" style="color:#FF69B4">super</span><span class="token punctuation" style="color:#FF69B4">(</span><span class="token punctuation" style="color:#FF69B4">)</span><span class="token punctuation" style="color:#FF69B4">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#dddddd"><span class="token plain">    </span><span class="token keyword" style="color:#FF69B4">this</span><span class="token punctuation" style="color:#FF69B4">.</span><span class="token property-access" style="color:#8BE9FD">length</span><span class="token plain"> </span><span class="token operator" style="color:#FF69B4">=</span><span class="token plain"> length</span><span class="token punctuation" style="color:#FF69B4">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#dddddd"><span class="token plain">  </span><span class="token punctuation" style="color:#FF69B4">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#dddddd"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#dddddd"><span class="token plain">  </span><span class="token function" style="color:#00E673">getArea</span><span class="token punctuation" style="color:#FF69B4">(</span><span class="token punctuation" style="color:#FF69B4">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#FF69B4">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#dddddd"><span class="token plain">    </span><span class="token keyword control-flow" style="color:#FF69B4">return</span><span class="token plain"> </span><span class="token keyword" style="color:#FF69B4">this</span><span class="token punctuation" style="color:#FF69B4">.</span><span class="token property-access" style="color:#8BE9FD">length</span><span class="token plain"> </span><span class="token operator" style="color:#FF69B4">*</span><span class="token plain"> </span><span class="token keyword" style="color:#FF69B4">this</span><span class="token punctuation" style="color:#FF69B4">.</span><span class="token property-access" style="color:#8BE9FD">length</span><span class="token punctuation" style="color:#FF69B4">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#dddddd"><span class="token plain">  </span><span class="token punctuation" style="color:#FF69B4">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#dddddd"><span class="token plain"></span><span class="token punctuation" style="color:#FF69B4">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#dddddd"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#dddddd"><span class="token plain"></span><span class="token keyword" style="color:#FF69B4">function</span><span class="token plain"> </span><span class="token function" style="color:#00E673">renderLargeShapes</span><span class="token punctuation" style="color:#FF69B4">(</span><span class="token parameter" style="color:#FFB86C">shapes</span><span class="token punctuation" style="color:#FF69B4">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#FF69B4">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#dddddd"><span class="token plain">  shapes</span><span class="token punctuation" style="color:#FF69B4">.</span><span class="token method function property-access" style="color:#8BE9FD">forEach</span><span class="token punctuation" style="color:#FF69B4">(</span><span class="token punctuation" style="color:#FF69B4">(</span><span class="token parameter" style="color:#FFB86C">shape</span><span class="token punctuation" style="color:#FF69B4">)</span><span class="token plain"> </span><span class="token arrow operator" style="color:#FF69B4">=&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:#FF69B4">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#dddddd"><span class="token plain">    </span><span class="token keyword" style="color:#FF69B4">const</span><span class="token plain"> area </span><span class="token operator" style="color:#FF69B4">=</span><span class="token plain"> shape</span><span class="token punctuation" style="color:#FF69B4">.</span><span class="token method function property-access" style="color:#8BE9FD">getArea</span><span class="token punctuation" style="color:#FF69B4">(</span><span class="token punctuation" style="color:#FF69B4">)</span><span class="token punctuation" style="color:#FF69B4">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#dddddd"><span class="token plain">    shape</span><span class="token punctuation" style="color:#FF69B4">.</span><span class="token method function property-access" style="color:#8BE9FD">render</span><span class="token punctuation" style="color:#FF69B4">(</span><span class="token plain">area</span><span class="token punctuation" style="color:#FF69B4">)</span><span class="token punctuation" style="color:#FF69B4">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#dddddd"><span class="token plain">  </span><span class="token punctuation" style="color:#FF69B4">}</span><span class="token punctuation" style="color:#FF69B4">)</span><span class="token punctuation" style="color:#FF69B4">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#dddddd"><span class="token plain"></span><span class="token punctuation" style="color:#FF69B4">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#dddddd"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#dddddd"><span class="token plain"></span><span class="token keyword" style="color:#FF69B4">const</span><span class="token plain"> shapes </span><span class="token operator" style="color:#FF69B4">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#FF69B4">[</span><span class="token keyword" style="color:#FF69B4">new</span><span class="token plain"> </span><span class="token class-name" style="color:#00bfff">Rectangle</span><span class="token punctuation" style="color:#FF69B4">(</span><span class="token number" style="color:#BD93F9">4</span><span class="token punctuation" style="color:#FF69B4">,</span><span class="token plain"> </span><span class="token number" style="color:#BD93F9">5</span><span class="token punctuation" style="color:#FF69B4">)</span><span class="token punctuation" style="color:#FF69B4">,</span><span class="token plain"> </span><span class="token keyword" style="color:#FF69B4">new</span><span class="token plain"> </span><span class="token class-name" style="color:#00bfff">Rectangle</span><span class="token punctuation" style="color:#FF69B4">(</span><span class="token number" style="color:#BD93F9">4</span><span class="token punctuation" style="color:#FF69B4">,</span><span class="token plain"> </span><span class="token number" style="color:#BD93F9">5</span><span class="token punctuation" style="color:#FF69B4">)</span><span class="token punctuation" style="color:#FF69B4">,</span><span class="token plain"> </span><span class="token keyword" style="color:#FF69B4">new</span><span class="token plain"> </span><span class="token class-name" style="color:#00bfff">Square</span><span class="token punctuation" style="color:#FF69B4">(</span><span class="token number" style="color:#BD93F9">5</span><span class="token punctuation" style="color:#FF69B4">)</span><span class="token punctuation" style="color:#FF69B4">]</span><span class="token punctuation" style="color:#FF69B4">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#dddddd"><span class="token plain"></span><span class="token function" style="color:#00E673">renderLargeShapes</span><span class="token punctuation" style="color:#FF69B4">(</span><span class="token plain">shapes</span><span class="token punctuation" style="color:#FF69B4">)</span><span class="token punctuation" style="color:#FF69B4">;</span><br></span></code></pre><button type="button" aria-label="å¤åˆ¶ä»£ç åˆ°å‰ªè´´æ¿" class="copyButton_Ue-o clean-btn">å¤åˆ¶</button></div></div><h3 class="anchor anchorWithHideOnScrollNavbar_3R7-" id="æ¥éš”ç¦»åŸåˆ™--i">æ¥â¼éš”ç¦»åŸåˆ™ | I<a aria-hidden="true" class="hash-link" href="#æ¥éš”ç¦»åŸåˆ™--i" title="æ ‡é¢˜çš„ç›´æ¥é“¾æ¥">â€‹</a></h3><p>æ¥â¼éš”ç¦»åŸåˆ™ ï¼šæ¥â¼éš”ç¦»åŸåˆ™ è®¤ä¸ºâ€œå¤šä¸ªç‰¹å®šå®¢æˆ·ç«¯æ¥â¼è¦å¥½äºâ¼€ä¸ªå®½æ³›â½¤é€”çš„æ¥â¼â€çš„æ¦‚å¿µã€‚ä¸èƒ½å¼ºè¿«â½¤æˆ·å»ä¾èµ–é‚£äº›ä»–ä»¬ä¸ä½¿â½¤çš„æ¥â¼ã€‚<strong>æ¢å¥è¯è¯´ï¼Œä½¿â½¤å¤šä¸ªä¸“â»”çš„æ¥â¼â½ä½¿â½¤å•â¼€çš„æ€»æ¥â¼æ€»è¦å¥½(JavaScript â¼ä¹æ²¡æœ‰æ¥â¼çš„æ¦‚å¿µæ‰€ä»¥tsçš„é‡è¦æ€§ä¸è¨€è€Œå–»)</strong>ã€‚æ³¨æ„ï¼šåœ¨ä»£ç ä¸­åº”â½¤ISPå¹¶ä¸â¼€å®šæ„å‘³ç€æœåŠ¡å°±æ˜¯ç»å¯¹å®‰å…¨çš„ã€‚ä»ç„¶éœ€è¦é‡‡â½¤è‰¯å¥½çš„ç¼–ç å®è·µï¼Œä»¥ç¡®ä¿æ­£ç¡®çš„éªŒè¯ä¸æˆæƒã€‚</p><p>è¿™ä¸ªåŸåˆ™èµ·æºäºæ–½ä¹å…¬å¸ï¼Œä»–ä»¬éœ€è¦å»ºâ½´äº†â¼€ä¸ªæ–°çš„æ‰“å°æœºç³»ç»Ÿï¼Œå¯ä»¥æ‰§â¾è¯¸å¦‚è£…è®¢çš„å°åˆ·å“â¼€å¥—ï¼Œä¼ çœŸå¤šç§ä»»åŠ¡ã€‚æ­¤ç³»ç»Ÿè½¯ä»¶åˆ›å»ºä»åº•å±‚å¼€å§‹ç¼–åˆ¶ï¼Œå¹¶å®ç°äº†è¿™äº› ä»»åŠ¡åŠŸèƒ½ï¼Œä½†æ˜¯ä¸æ–­å¢â»“çš„è½¯ä»¶åŠŸèƒ½å´ä½¿è½¯ä»¶æœ¬èº«è¶Šæ¥è¶Šéš¾é€‚åº”å˜åŒ–å’Œç»´æŠ¤ã€‚æ¯â¼€æ¬¡æ”¹å˜ï¼Œå³ä½¿æ˜¯æœ€â¼©çš„å˜åŒ–ï¼Œæœ‰â¼ˆå¯èƒ½éœ€è¦è¿‘â¼€ä¸ªâ¼©æ—¶çš„é‡æ–°ç¼–è¯‘å’Œé‡æ–°éƒ¨ç½²ã€‚è¿™ æ˜¯â¼ä¹ä¸å¯èƒ½å†ç»§ç»­å‘å±•ï¼Œæ‰€ä»¥ä»–ä»¬è˜è¯·ç½—ä¼¯ç‰¹Robertå¸®åŠ©ä»–ä»¬ã€‚ä»–ä»¬â¾¸å…ˆè®¾è®¡äº†â¼€ä¸ªä¸»è¦ç±»Job,â¼ä¹èƒ½å¤Ÿâ½¤äºå®ç°æ‰€æœ‰ä»»åŠ¡åŠŸèƒ½ã€‚åªè¦è°ƒâ½¤Jobç±»çš„ â¼€ä¸ªâ½…æ³•å°±å¯ä»¥å®ç°â¼€ä¸ªåŠŸèƒ½ï¼ŒJobç±»å°±å˜åŠ¨â¾®å¸¸â¼¤ï¼Œæ˜¯â¼€ä¸ªèƒ–æ¨¡å‹å•Šï¼Œå¯¹äºå®¢æˆ·ç«¯å¦‚æœåªéœ€è¦â¼€ä¸ªæ‰“å°åŠŸèƒ½ï¼Œä½†æ˜¯å…¶ä»–â½†å…³æ‰“å°çš„â½…æ³•åŠŸèƒ½ä¹Ÿå’Œå…¶è€¦åˆï¼ŒISP åŸåˆ™å»ºè®®åœ¨å®¢æˆ·ç«¯å’ŒJobç±»ä¹‹é—´å¢åŠ â¼€ä¸ªæ¥â¼å±‚ï¼Œå¯¹äºä¸åŒåŠŸèƒ½æœ‰ä¸åŒæ¥â¼ï¼Œâ½å¦‚æ‰“å°åŠŸèƒ½å°±æ˜¯Printæ¥â¼ï¼Œç„¶åå°†â¼¤çš„Jobç±»åˆ‡åˆ†ä¸ºç»§æ‰¿ä¸åŒæ¥â¼çš„â¼¦ ç±»ï¼Œè¿™æ ·æœ‰â¼€ä¸ªPrint Jobç±»ï¼Œç­‰ç­‰ã€‚</p><p>C# ä¸­</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly cs"><pre tabindex="0" class="prism-code language-cs codeBlock_23N8 thin-scrollbar" style="color:#dddddd;background-color:#24272a"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#dddddd"><span class="token plain">interface IDataAccess</span><br></span><span class="token-line" style="color:#dddddd"><span class="token plain">    {</span><br></span><span class="token-line" style="color:#dddddd"><span class="token plain">        void OpenConnection();</span><br></span><span class="token-line" style="color:#dddddd"><span class="token plain">        void CloseConnection();</span><br></span><span class="token-line" style="color:#dddddd"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#dddddd"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#dddddd"><span class="token plain">    interface ISqlDataAccess : IDataAccess</span><br></span><span class="token-line" style="color:#dddddd"><span class="token plain">    {</span><br></span><span class="token-line" style="color:#dddddd"><span class="token plain">        void ExecuteSqlCommand();</span><br></span><span class="token-line" style="color:#dddddd"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#dddddd"><span class="token plain">    interface IOracleDataAccess : IDataAccess</span><br></span><span class="token-line" style="color:#dddddd"><span class="token plain">    {</span><br></span><span class="token-line" style="color:#dddddd"><span class="token plain">        void ExecuteOracleCommand();</span><br></span><span class="token-line" style="color:#dddddd"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#dddddd"><span class="token plain">    class SqlDataAccess : ISqlDataAccess</span><br></span><span class="token-line" style="color:#dddddd"><span class="token plain">    {</span><br></span><span class="token-line" style="color:#dddddd"><span class="token plain">        /// &lt;summary&gt;</span><br></span><span class="token-line" style="color:#dddddd"><span class="token plain">        /// æ‰§è¡ŒSqlæ•°æ®å‘½ä»¤</span><br></span><span class="token-line" style="color:#dddddd"><span class="token plain">        /// &lt;/summary&gt;</span><br></span><span class="token-line" style="color:#dddddd"><span class="token plain">        public void ExecuteSqlCommand(){}</span><br></span><span class="token-line" style="color:#dddddd"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#dddddd"><span class="token plain">        /// &lt;summary&gt;</span><br></span><span class="token-line" style="color:#dddddd"><span class="token plain">        /// æ‰“å¼€Sqlæ•°æ®è¿æ¥</span><br></span><span class="token-line" style="color:#dddddd"><span class="token plain">        /// &lt;/summary&gt;</span><br></span><span class="token-line" style="color:#dddddd"><span class="token plain">        public void OpenConnection(){}</span><br></span><span class="token-line" style="color:#dddddd"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#dddddd"><span class="token plain">        /// &lt;summary&gt;</span><br></span><span class="token-line" style="color:#dddddd"><span class="token plain">        /// å…³é—­Sqlæ•°æ®è¿æ¥</span><br></span><span class="token-line" style="color:#dddddd"><span class="token plain">        /// &lt;/summary&gt;</span><br></span><span class="token-line" style="color:#dddddd"><span class="token plain">        public void CloseConnection(){}</span><br></span><span class="token-line" style="color:#dddddd"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#dddddd"><span class="token plain">    class OracleDataAccess : IOracleDataAccess</span><br></span><span class="token-line" style="color:#dddddd"><span class="token plain">    {</span><br></span><span class="token-line" style="color:#dddddd"><span class="token plain">        /// &lt;summary&gt;</span><br></span><span class="token-line" style="color:#dddddd"><span class="token plain">        /// æ‰§è¡ŒOracleæ•°æ®å‘½ä»¤</span><br></span><span class="token-line" style="color:#dddddd"><span class="token plain">        /// &lt;/summary&gt;</span><br></span><span class="token-line" style="color:#dddddd"><span class="token plain">        public void ExecuteOracleCommand(){}</span><br></span><span class="token-line" style="color:#dddddd"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#dddddd"><span class="token plain">        /// &lt;summary&gt;</span><br></span><span class="token-line" style="color:#dddddd"><span class="token plain">        /// æ‰“å¼€Oracleæ•°æ®è¿æ¥</span><br></span><span class="token-line" style="color:#dddddd"><span class="token plain">        /// &lt;/summary&gt;</span><br></span><span class="token-line" style="color:#dddddd"><span class="token plain">        public void OpenConnection(){}</span><br></span><span class="token-line" style="color:#dddddd"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#dddddd"><span class="token plain">        /// &lt;summary&gt;</span><br></span><span class="token-line" style="color:#dddddd"><span class="token plain">        /// å…³é—­Oracleæ•°æ®è¿æ¥</span><br></span><span class="token-line" style="color:#dddddd"><span class="token plain">        /// &lt;/summary&gt;</span><br></span><span class="token-line" style="color:#dddddd"><span class="token plain">        public void CloseConnection(){}</span><br></span><span class="token-line" style="color:#dddddd"><span class="token plain">    }</span><br></span></code></pre><button type="button" aria-label="å¤åˆ¶ä»£ç åˆ°å‰ªè´´æ¿" class="copyButton_Ue-o clean-btn">å¤åˆ¶</button></div></div><p>åœ¨ js ä¸­</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly js"><pre tabindex="0" class="prism-code language-js codeBlock_23N8 thin-scrollbar" style="color:#dddddd;background-color:#24272a"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#dddddd"><span class="token comment" style="color:#737373">//Bad:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#dddddd"><span class="token plain"></span><span class="token keyword" style="color:#FF69B4">class</span><span class="token plain"> </span><span class="token class-name" style="color:#00bfff">DOMTraverser</span><span class="token plain"> </span><span class="token punctuation" style="color:#FF69B4">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#dddddd"><span class="token plain">  </span><span class="token function" style="color:#00E673">constructor</span><span class="token punctuation" style="color:#FF69B4">(</span><span class="token parameter" style="color:#FFB86C">settings</span><span class="token punctuation" style="color:#FF69B4">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#FF69B4">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#dddddd"><span class="token plain">    </span><span class="token keyword" style="color:#FF69B4">this</span><span class="token punctuation" style="color:#FF69B4">.</span><span class="token property-access" style="color:#8BE9FD">settings</span><span class="token plain"> </span><span class="token operator" style="color:#FF69B4">=</span><span class="token plain"> settings</span><span class="token punctuation" style="color:#FF69B4">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#dddddd"><span class="token plain">    </span><span class="token keyword" style="color:#FF69B4">this</span><span class="token punctuation" style="color:#FF69B4">.</span><span class="token method function property-access" style="color:#8BE9FD">setup</span><span class="token punctuation" style="color:#FF69B4">(</span><span class="token punctuation" style="color:#FF69B4">)</span><span class="token punctuation" style="color:#FF69B4">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#dddddd"><span class="token plain">  </span><span class="token punctuation" style="color:#FF69B4">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#dddddd"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#dddddd"><span class="token plain">  </span><span class="token function" style="color:#00E673">setup</span><span class="token punctuation" style="color:#FF69B4">(</span><span class="token punctuation" style="color:#FF69B4">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#FF69B4">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#dddddd"><span class="token plain">    </span><span class="token keyword" style="color:#FF69B4">this</span><span class="token punctuation" style="color:#FF69B4">.</span><span class="token property-access" style="color:#8BE9FD">rootNode</span><span class="token plain"> </span><span class="token operator" style="color:#FF69B4">=</span><span class="token plain"> </span><span class="token keyword" style="color:#FF69B4">this</span><span class="token punctuation" style="color:#FF69B4">.</span><span class="token property-access" style="color:#8BE9FD">settings</span><span class="token punctuation" style="color:#FF69B4">.</span><span class="token property-access" style="color:#8BE9FD">rootNode</span><span class="token punctuation" style="color:#FF69B4">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#dddddd"><span class="token plain">    </span><span class="token keyword" style="color:#FF69B4">this</span><span class="token punctuation" style="color:#FF69B4">.</span><span class="token property-access" style="color:#8BE9FD">animationModule</span><span class="token punctuation" style="color:#FF69B4">.</span><span class="token method function property-access" style="color:#8BE9FD">setup</span><span class="token punctuation" style="color:#FF69B4">(</span><span class="token punctuation" style="color:#FF69B4">)</span><span class="token punctuation" style="color:#FF69B4">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#dddddd"><span class="token plain">  </span><span class="token punctuation" style="color:#FF69B4">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#dddddd"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#dddddd"><span class="token plain">  </span><span class="token function" style="color:#00E673">traverse</span><span class="token punctuation" style="color:#FF69B4">(</span><span class="token punctuation" style="color:#FF69B4">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#FF69B4">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#dddddd"><span class="token plain">    </span><span class="token comment" style="color:#737373">// ...</span><span class="token plain"></span><br></span><span class="token-line" style="color:#dddddd"><span class="token plain">  </span><span class="token punctuation" style="color:#FF69B4">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#dddddd"><span class="token plain"></span><span class="token punctuation" style="color:#FF69B4">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#dddddd"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#dddddd"><span class="token plain"></span><span class="token keyword" style="color:#FF69B4">const</span><span class="token plain"> $ </span><span class="token operator" style="color:#FF69B4">=</span><span class="token plain"> </span><span class="token keyword" style="color:#FF69B4">new</span><span class="token plain"> </span><span class="token class-name" style="color:#00bfff">DOMTraverser</span><span class="token punctuation" style="color:#FF69B4">(</span><span class="token punctuation" style="color:#FF69B4">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#dddddd"><span class="token plain">  rootNode</span><span class="token operator" style="color:#FF69B4">:</span><span class="token plain"> </span><span class="token dom variable" style="color:#BD93F9">document</span><span class="token punctuation" style="color:#FF69B4">.</span><span class="token method function property-access" style="color:#8BE9FD">getElementsByTagName</span><span class="token punctuation" style="color:#FF69B4">(</span><span class="token string" style="color:#C3E88D">&#x27;body&#x27;</span><span class="token punctuation" style="color:#FF69B4">)</span><span class="token punctuation" style="color:#FF69B4">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#dddddd"><span class="token plain">  </span><span class="token function" style="color:#00E673">animationModule</span><span class="token punctuation" style="color:#FF69B4">(</span><span class="token punctuation" style="color:#FF69B4">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#FF69B4">{</span><span class="token punctuation" style="color:#FF69B4">}</span><span class="token plain"> </span><span class="token comment" style="color:#737373">// Most of the time, we won&#x27;t need to animate when traversing.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#dddddd"><span class="token plain">  </span><span class="token comment" style="color:#737373">// ...</span><span class="token plain"></span><br></span><span class="token-line" style="color:#dddddd"><span class="token plain"></span><span class="token punctuation" style="color:#FF69B4">}</span><span class="token punctuation" style="color:#FF69B4">)</span><span class="token punctuation" style="color:#FF69B4">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#dddddd"><span class="token plain"></span><span class="token comment" style="color:#737373">//Good:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#dddddd"><span class="token plain"></span><span class="token keyword" style="color:#FF69B4">class</span><span class="token plain"> </span><span class="token class-name" style="color:#00bfff">DOMTraverser</span><span class="token plain"> </span><span class="token punctuation" style="color:#FF69B4">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#dddddd"><span class="token plain">  </span><span class="token function" style="color:#00E673">constructor</span><span class="token punctuation" style="color:#FF69B4">(</span><span class="token parameter" style="color:#FFB86C">settings</span><span class="token punctuation" style="color:#FF69B4">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#FF69B4">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#dddddd"><span class="token plain">    </span><span class="token keyword" style="color:#FF69B4">this</span><span class="token punctuation" style="color:#FF69B4">.</span><span class="token property-access" style="color:#8BE9FD">settings</span><span class="token plain"> </span><span class="token operator" style="color:#FF69B4">=</span><span class="token plain"> settings</span><span class="token punctuation" style="color:#FF69B4">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#dddddd"><span class="token plain">    </span><span class="token keyword" style="color:#FF69B4">this</span><span class="token punctuation" style="color:#FF69B4">.</span><span class="token property-access" style="color:#8BE9FD">options</span><span class="token plain"> </span><span class="token operator" style="color:#FF69B4">=</span><span class="token plain"> settings</span><span class="token punctuation" style="color:#FF69B4">.</span><span class="token property-access" style="color:#8BE9FD">options</span><span class="token punctuation" style="color:#FF69B4">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#dddddd"><span class="token plain">    </span><span class="token keyword" style="color:#FF69B4">this</span><span class="token punctuation" style="color:#FF69B4">.</span><span class="token method function property-access" style="color:#8BE9FD">setup</span><span class="token punctuation" style="color:#FF69B4">(</span><span class="token punctuation" style="color:#FF69B4">)</span><span class="token punctuation" style="color:#FF69B4">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#dddddd"><span class="token plain">  </span><span class="token punctuation" style="color:#FF69B4">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#dddddd"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#dddddd"><span class="token plain">  </span><span class="token function" style="color:#00E673">setup</span><span class="token punctuation" style="color:#FF69B4">(</span><span class="token punctuation" style="color:#FF69B4">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#FF69B4">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#dddddd"><span class="token plain">    </span><span class="token keyword" style="color:#FF69B4">this</span><span class="token punctuation" style="color:#FF69B4">.</span><span class="token property-access" style="color:#8BE9FD">rootNode</span><span class="token plain"> </span><span class="token operator" style="color:#FF69B4">=</span><span class="token plain"> </span><span class="token keyword" style="color:#FF69B4">this</span><span class="token punctuation" style="color:#FF69B4">.</span><span class="token property-access" style="color:#8BE9FD">settings</span><span class="token punctuation" style="color:#FF69B4">.</span><span class="token property-access" style="color:#8BE9FD">rootNode</span><span class="token punctuation" style="color:#FF69B4">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#dddddd"><span class="token plain">    </span><span class="token keyword" style="color:#FF69B4">this</span><span class="token punctuation" style="color:#FF69B4">.</span><span class="token method function property-access" style="color:#8BE9FD">setupOptions</span><span class="token punctuation" style="color:#FF69B4">(</span><span class="token punctuation" style="color:#FF69B4">)</span><span class="token punctuation" style="color:#FF69B4">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#dddddd"><span class="token plain">  </span><span class="token punctuation" style="color:#FF69B4">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#dddddd"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#dddddd"><span class="token plain">  </span><span class="token function" style="color:#00E673">setupOptions</span><span class="token punctuation" style="color:#FF69B4">(</span><span class="token punctuation" style="color:#FF69B4">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#FF69B4">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#dddddd"><span class="token plain">    </span><span class="token keyword control-flow" style="color:#FF69B4">if</span><span class="token plain"> </span><span class="token punctuation" style="color:#FF69B4">(</span><span class="token keyword" style="color:#FF69B4">this</span><span class="token punctuation" style="color:#FF69B4">.</span><span class="token property-access" style="color:#8BE9FD">options</span><span class="token punctuation" style="color:#FF69B4">.</span><span class="token property-access" style="color:#8BE9FD">animationModule</span><span class="token punctuation" style="color:#FF69B4">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#FF69B4">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#dddddd"><span class="token plain">      </span><span class="token comment" style="color:#737373">// ...</span><span class="token plain"></span><br></span><span class="token-line" style="color:#dddddd"><span class="token plain">    </span><span class="token punctuation" style="color:#FF69B4">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#dddddd"><span class="token plain">  </span><span class="token punctuation" style="color:#FF69B4">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#dddddd"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#dddddd"><span class="token plain">  </span><span class="token function" style="color:#00E673">traverse</span><span class="token punctuation" style="color:#FF69B4">(</span><span class="token punctuation" style="color:#FF69B4">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#FF69B4">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#dddddd"><span class="token plain">    </span><span class="token comment" style="color:#737373">// ...</span><span class="token plain"></span><br></span><span class="token-line" style="color:#dddddd"><span class="token plain">  </span><span class="token punctuation" style="color:#FF69B4">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#dddddd"><span class="token plain"></span><span class="token punctuation" style="color:#FF69B4">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#dddddd"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#dddddd"><span class="token plain"></span><span class="token keyword" style="color:#FF69B4">const</span><span class="token plain"> $ </span><span class="token operator" style="color:#FF69B4">=</span><span class="token plain"> </span><span class="token keyword" style="color:#FF69B4">new</span><span class="token plain"> </span><span class="token class-name" style="color:#00bfff">DOMTraverser</span><span class="token punctuation" style="color:#FF69B4">(</span><span class="token punctuation" style="color:#FF69B4">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#dddddd"><span class="token plain">  rootNode</span><span class="token operator" style="color:#FF69B4">:</span><span class="token plain"> </span><span class="token dom variable" style="color:#BD93F9">document</span><span class="token punctuation" style="color:#FF69B4">.</span><span class="token method function property-access" style="color:#8BE9FD">getElementsByTagName</span><span class="token punctuation" style="color:#FF69B4">(</span><span class="token string" style="color:#C3E88D">&#x27;body&#x27;</span><span class="token punctuation" style="color:#FF69B4">)</span><span class="token punctuation" style="color:#FF69B4">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#dddddd"><span class="token plain">  options</span><span class="token operator" style="color:#FF69B4">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#FF69B4">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#dddddd"><span class="token plain">    </span><span class="token function" style="color:#00E673">animationModule</span><span class="token punctuation" style="color:#FF69B4">(</span><span class="token punctuation" style="color:#FF69B4">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#FF69B4">{</span><span class="token punctuation" style="color:#FF69B4">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#dddddd"><span class="token plain">  </span><span class="token punctuation" style="color:#FF69B4">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#dddddd"><span class="token plain"></span><span class="token punctuation" style="color:#FF69B4">}</span><span class="token punctuation" style="color:#FF69B4">)</span><span class="token punctuation" style="color:#FF69B4">;</span><br></span></code></pre><button type="button" aria-label="å¤åˆ¶ä»£ç åˆ°å‰ªè´´æ¿" class="copyButton_Ue-o clean-btn">å¤åˆ¶</button></div></div><h3 class="anchor anchorWithHideOnScrollNavbar_3R7-" id="ä¾èµ–å€’ç½®åè½¬åŸåˆ™--d">ä¾èµ–å€’ç½®/åè½¬åŸåˆ™ | D<a aria-hidden="true" class="hash-link" href="#ä¾èµ–å€’ç½®åè½¬åŸåˆ™--d" title="æ ‡é¢˜çš„ç›´æ¥é“¾æ¥">â€‹</a></h3><p>ä¾èµ–å€’ç½®åŸåˆ™(Dependency Inversion Principleï¼ŒDIP)è§„å®šï¼šä»£ç åº”å½“å–å†³äºæŠ½è±¡æ¦‚å¿µï¼Œâ½½ä¸æ˜¯å…·ä½“å®ç°ã€‚</p><p><strong>â¾¼å±‚æ¨¡å—ä¸åº”è¯¥ä¾èµ–äºä½å±‚æ¨¡å—ï¼Œâ¼†è€…éƒ½åº”è¯¥ä¾èµ–äºæŠ½è±¡</strong>.</p><p><strong>æŠ½è±¡ä¸åº”è¯¥ä¾èµ–äºç»†èŠ‚ï¼Œç»†èŠ‚åº”è¯¥ä¾èµ–äºæŠ½è±¡ (æ€»ç»“è§£è€¦)</strong>.</p><p>ç±»å¯èƒ½ä¾èµ–äºå…¶ä»–ç±»æ¥æ‰§â¾å…¶â¼¯ä½œã€‚ä½†æ˜¯ï¼Œå®ƒä»¬ä¸åº”å½“ä¾èµ–äºè¯¥ç±»çš„ç‰¹å®šå…·ä½“å®ç°ï¼Œâ½½åº”å½“æ˜¯å®ƒçš„æŠ½è±¡ã€‚è¿™ä¸ªåŸåˆ™å®åœ¨æ˜¯å¤ªé‡è¦äº†ï¼Œç¤¾ä¼šçš„åˆ†â¼¯åŒ–ï¼Œæ ‡å‡†åŒ–éƒ½ æ˜¯è¿™ä¸ªè®¾è®¡åŸåˆ™çš„ä½“ç°ã€‚æ˜¾ç„¶ï¼Œè¿™â¼€æ¦‚å¿µä¼šâ¼¤â¼¤æâ¾¼ç³»ç»Ÿçš„çµæ´»æ€§ã€‚å¦‚æœç±»åªå…³â¼¼å®ƒä»¬â½¤äºâ½€æŒç‰¹å®šå¥‘çº¦â½½ä¸æ˜¯ç‰¹å®šç±»å‹çš„ç»„ä»¶ï¼Œå°±å¯ä»¥å¿«é€Ÿâ½½è½»æ¾åœ°ä¿®æ”¹è¿™äº›ä½çº§ æœåŠ¡çš„åŠŸèƒ½ï¼ŒåŒæ—¶æœ€â¼¤é™åº¦åœ°é™ä½å¯¹ç³»ç»Ÿå…¶ä½™éƒ¨åˆ†çš„å½±å“ã€‚</p><p>C# å®ç°</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly cs"><pre tabindex="0" class="prism-code language-cs codeBlock_23N8 thin-scrollbar" style="color:#dddddd;background-color:#24272a"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#dddddd"><span class="token plain">    interface IBankAccount</span><br></span><span class="token-line" style="color:#dddddd"><span class="token plain">    {</span><br></span><span class="token-line" style="color:#dddddd"><span class="token plain">        long BankNumber { get; set; } // å¡å·</span><br></span><span class="token-line" style="color:#dddddd"><span class="token plain">        decimal Balance { get; set; } // ä½™é¢</span><br></span><span class="token-line" style="color:#dddddd"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#dddddd"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#dddddd"><span class="token plain">    // è½¬è´¦äºº</span><br></span><span class="token-line" style="color:#dddddd"><span class="token plain">    interface ITransferSource : IBankAccount</span><br></span><span class="token-line" style="color:#dddddd"><span class="token plain">    {</span><br></span><span class="token-line" style="color:#dddddd"><span class="token plain">        void CutPayment(decimal value);</span><br></span><span class="token-line" style="color:#dddddd"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#dddddd"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#dddddd"><span class="token plain">    // æ”¶æ¬¾äºº</span><br></span><span class="token-line" style="color:#dddddd"><span class="token plain">    interface ITransferDestination : IBankAccount</span><br></span><span class="token-line" style="color:#dddddd"><span class="token plain">    {</span><br></span><span class="token-line" style="color:#dddddd"><span class="token plain">        void AddMoney(decimal value);</span><br></span><span class="token-line" style="color:#dddddd"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#dddddd"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#dddddd"><span class="token plain">    class BankAccout : IBankAccount, ITransferSource, ITransferDestination</span><br></span><span class="token-line" style="color:#dddddd"><span class="token plain">    {</span><br></span><span class="token-line" style="color:#dddddd"><span class="token plain">        public long BankNumber { get; set; }</span><br></span><span class="token-line" style="color:#dddddd"><span class="token plain">        public decimal Balance { get; set; }</span><br></span><span class="token-line" style="color:#dddddd"><span class="token plain">        public void CutPayment(decimal value)</span><br></span><span class="token-line" style="color:#dddddd"><span class="token plain">        {</span><br></span><span class="token-line" style="color:#dddddd"><span class="token plain">            Balance -= value;</span><br></span><span class="token-line" style="color:#dddddd"><span class="token plain">        }</span><br></span><span class="token-line" style="color:#dddddd"><span class="token plain">        public void AddMoney(decimal value)</span><br></span><span class="token-line" style="color:#dddddd"><span class="token plain">        {</span><br></span><span class="token-line" style="color:#dddddd"><span class="token plain">            Balance += value;</span><br></span><span class="token-line" style="color:#dddddd"><span class="token plain">        }</span><br></span><span class="token-line" style="color:#dddddd"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#dddddd"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#dddddd"><span class="token plain">    class TransferAmount</span><br></span><span class="token-line" style="color:#dddddd"><span class="token plain">    {</span><br></span><span class="token-line" style="color:#dddddd"><span class="token plain">        public decimal Amount { get; set; }</span><br></span><span class="token-line" style="color:#dddddd"><span class="token plain">        public void Transfer(ITransferSource source, ITransferDestination dest)</span><br></span><span class="token-line" style="color:#dddddd"><span class="token plain">        {</span><br></span><span class="token-line" style="color:#dddddd"><span class="token plain">            source.CutPayment(Amount);</span><br></span><span class="token-line" style="color:#dddddd"><span class="token plain">            dest.AddMoney(Amount);</span><br></span><span class="token-line" style="color:#dddddd"><span class="token plain">        }</span><br></span><span class="token-line" style="color:#dddddd"><span class="token plain">    }</span><br></span></code></pre><button type="button" aria-label="å¤åˆ¶ä»£ç åˆ°å‰ªè´´æ¿" class="copyButton_Ue-o clean-btn">å¤åˆ¶</button></div></div><p>js å®ç°</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly js"><pre tabindex="0" class="prism-code language-js codeBlock_23N8 thin-scrollbar" style="color:#dddddd;background-color:#24272a"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#dddddd"><span class="token comment" style="color:#737373">//Bad</span><span class="token plain"></span><br></span><span class="token-line" style="color:#dddddd"><span class="token plain"></span><span class="token comment" style="color:#737373">// åº“å­˜æŸ¥è¯¢</span><span class="token plain"></span><br></span><span class="token-line" style="color:#dddddd"><span class="token plain"></span><span class="token keyword" style="color:#FF69B4">class</span><span class="token plain"> </span><span class="token class-name" style="color:#00bfff">InventoryRequester</span><span class="token plain"> </span><span class="token punctuation" style="color:#FF69B4">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#dddddd"><span class="token plain">  </span><span class="token function" style="color:#00E673">constructor</span><span class="token punctuation" style="color:#FF69B4">(</span><span class="token punctuation" style="color:#FF69B4">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#FF69B4">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#dddddd"><span class="token plain">    </span><span class="token keyword" style="color:#FF69B4">this</span><span class="token punctuation" style="color:#FF69B4">.</span><span class="token constant" style="color:#BD93F9">REQ_METHODS</span><span class="token plain"> </span><span class="token operator" style="color:#FF69B4">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#FF69B4">[</span><span class="token string" style="color:#C3E88D">&#x27;HTTP&#x27;</span><span class="token punctuation" style="color:#FF69B4">]</span><span class="token punctuation" style="color:#FF69B4">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#dddddd"><span class="token plain">  </span><span class="token punctuation" style="color:#FF69B4">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#dddddd"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#dddddd"><span class="token plain">  </span><span class="token function" style="color:#00E673">requestItem</span><span class="token punctuation" style="color:#FF69B4">(</span><span class="token parameter" style="color:#FFB86C">item</span><span class="token punctuation" style="color:#FF69B4">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#FF69B4">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#dddddd"><span class="token plain">    </span><span class="token comment" style="color:#737373">// ...</span><span class="token plain"></span><br></span><span class="token-line" style="color:#dddddd"><span class="token plain">  </span><span class="token punctuation" style="color:#FF69B4">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#dddddd"><span class="token plain"></span><span class="token punctuation" style="color:#FF69B4">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#dddddd"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#dddddd"><span class="token plain"></span><span class="token comment" style="color:#737373">// åº“å­˜è·Ÿè¸ª</span><span class="token plain"></span><br></span><span class="token-line" style="color:#dddddd"><span class="token plain"></span><span class="token keyword" style="color:#FF69B4">class</span><span class="token plain"> </span><span class="token class-name" style="color:#00bfff">InventoryTracker</span><span class="token plain"> </span><span class="token punctuation" style="color:#FF69B4">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#dddddd"><span class="token plain">  </span><span class="token function" style="color:#00E673">constructor</span><span class="token punctuation" style="color:#FF69B4">(</span><span class="token parameter" style="color:#FFB86C">items</span><span class="token punctuation" style="color:#FF69B4">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#FF69B4">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#dddddd"><span class="token plain">    </span><span class="token keyword" style="color:#FF69B4">this</span><span class="token punctuation" style="color:#FF69B4">.</span><span class="token property-access" style="color:#8BE9FD">items</span><span class="token plain"> </span><span class="token operator" style="color:#FF69B4">=</span><span class="token plain"> items</span><span class="token punctuation" style="color:#FF69B4">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#dddddd"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#dddddd"><span class="token plain">    </span><span class="token comment" style="color:#737373">// è¿™é‡Œä¾èµ–ä¸€ä¸ªç‰¹æ®Šçš„è¯·æ±‚ç±»ï¼Œå…¶å®æˆ‘ä»¬åªæ˜¯éœ€è¦ä¸€ä¸ªè¯·æ±‚æ–¹æ³•ã€‚</span><span class="token plain"></span><br></span><span class="token-line" style="color:#dddddd"><span class="token plain">    </span><span class="token keyword" style="color:#FF69B4">this</span><span class="token punctuation" style="color:#FF69B4">.</span><span class="token property-access" style="color:#8BE9FD">requester</span><span class="token plain"> </span><span class="token operator" style="color:#FF69B4">=</span><span class="token plain"> </span><span class="token keyword" style="color:#FF69B4">new</span><span class="token plain"> </span><span class="token class-name" style="color:#00bfff">InventoryRequester</span><span class="token punctuation" style="color:#FF69B4">(</span><span class="token punctuation" style="color:#FF69B4">)</span><span class="token punctuation" style="color:#FF69B4">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#dddddd"><span class="token plain">  </span><span class="token punctuation" style="color:#FF69B4">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#dddddd"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#dddddd"><span class="token plain">  </span><span class="token function" style="color:#00E673">requestItems</span><span class="token punctuation" style="color:#FF69B4">(</span><span class="token punctuation" style="color:#FF69B4">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#FF69B4">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#dddddd"><span class="token plain">    </span><span class="token keyword" style="color:#FF69B4">this</span><span class="token punctuation" style="color:#FF69B4">.</span><span class="token property-access" style="color:#8BE9FD">items</span><span class="token punctuation" style="color:#FF69B4">.</span><span class="token method function property-access" style="color:#8BE9FD">forEach</span><span class="token punctuation" style="color:#FF69B4">(</span><span class="token punctuation" style="color:#FF69B4">(</span><span class="token parameter" style="color:#FFB86C">item</span><span class="token punctuation" style="color:#FF69B4">)</span><span class="token plain"> </span><span class="token arrow operator" style="color:#FF69B4">=&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:#FF69B4">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#dddddd"><span class="token plain">      </span><span class="token keyword" style="color:#FF69B4">this</span><span class="token punctuation" style="color:#FF69B4">.</span><span class="token property-access" style="color:#8BE9FD">requester</span><span class="token punctuation" style="color:#FF69B4">.</span><span class="token method function property-access" style="color:#8BE9FD">requestItem</span><span class="token punctuation" style="color:#FF69B4">(</span><span class="token plain">item</span><span class="token punctuation" style="color:#FF69B4">)</span><span class="token punctuation" style="color:#FF69B4">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#dddddd"><span class="token plain">    </span><span class="token punctuation" style="color:#FF69B4">}</span><span class="token punctuation" style="color:#FF69B4">)</span><span class="token punctuation" style="color:#FF69B4">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#dddddd"><span class="token plain">  </span><span class="token punctuation" style="color:#FF69B4">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#dddddd"><span class="token plain"></span><span class="token punctuation" style="color:#FF69B4">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#dddddd"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#dddddd"><span class="token plain"></span><span class="token keyword" style="color:#FF69B4">const</span><span class="token plain"> inventoryTracker </span><span class="token operator" style="color:#FF69B4">=</span><span class="token plain"> </span><span class="token keyword" style="color:#FF69B4">new</span><span class="token plain"> </span><span class="token class-name" style="color:#00bfff">InventoryTracker</span><span class="token punctuation" style="color:#FF69B4">(</span><span class="token punctuation" style="color:#FF69B4">[</span><span class="token string" style="color:#C3E88D">&#x27;apples&#x27;</span><span class="token punctuation" style="color:#FF69B4">,</span><span class="token plain"> </span><span class="token string" style="color:#C3E88D">&#x27;bananas&#x27;</span><span class="token punctuation" style="color:#FF69B4">]</span><span class="token punctuation" style="color:#FF69B4">)</span><span class="token punctuation" style="color:#FF69B4">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#dddddd"><span class="token plain">inventoryTracker</span><span class="token punctuation" style="color:#FF69B4">.</span><span class="token method function property-access" style="color:#8BE9FD">requestItems</span><span class="token punctuation" style="color:#FF69B4">(</span><span class="token punctuation" style="color:#FF69B4">)</span><span class="token punctuation" style="color:#FF69B4">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#dddddd"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#dddddd"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#dddddd"><span class="token plain"></span><span class="token comment" style="color:#737373">//Good:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#dddddd"><span class="token plain"></span><span class="token comment" style="color:#737373">// åº“å­˜è·Ÿè¸ª</span><span class="token plain"></span><br></span><span class="token-line" style="color:#dddddd"><span class="token plain"></span><span class="token keyword" style="color:#FF69B4">class</span><span class="token plain"> </span><span class="token class-name" style="color:#00bfff">InventoryTracker</span><span class="token plain"> </span><span class="token punctuation" style="color:#FF69B4">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#dddddd"><span class="token plain">  </span><span class="token function" style="color:#00E673">constructor</span><span class="token punctuation" style="color:#FF69B4">(</span><span class="token parameter" style="color:#FFB86C">items</span><span class="token parameter punctuation" style="color:#FF69B4">,</span><span class="token parameter" style="color:#FFB86C"> requester</span><span class="token punctuation" style="color:#FF69B4">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#FF69B4">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#dddddd"><span class="token plain">    </span><span class="token keyword" style="color:#FF69B4">this</span><span class="token punctuation" style="color:#FF69B4">.</span><span class="token property-access" style="color:#8BE9FD">items</span><span class="token plain"> </span><span class="token operator" style="color:#FF69B4">=</span><span class="token plain"> items</span><span class="token punctuation" style="color:#FF69B4">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#dddddd"><span class="token plain">    </span><span class="token keyword" style="color:#FF69B4">this</span><span class="token punctuation" style="color:#FF69B4">.</span><span class="token property-access" style="color:#8BE9FD">requester</span><span class="token plain"> </span><span class="token operator" style="color:#FF69B4">=</span><span class="token plain"> requester</span><span class="token punctuation" style="color:#FF69B4">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#dddddd"><span class="token plain">  </span><span class="token punctuation" style="color:#FF69B4">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#dddddd"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#dddddd"><span class="token plain">  </span><span class="token function" style="color:#00E673">requestItems</span><span class="token punctuation" style="color:#FF69B4">(</span><span class="token punctuation" style="color:#FF69B4">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#FF69B4">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#dddddd"><span class="token plain">    </span><span class="token keyword" style="color:#FF69B4">this</span><span class="token punctuation" style="color:#FF69B4">.</span><span class="token property-access" style="color:#8BE9FD">items</span><span class="token punctuation" style="color:#FF69B4">.</span><span class="token method function property-access" style="color:#8BE9FD">forEach</span><span class="token punctuation" style="color:#FF69B4">(</span><span class="token punctuation" style="color:#FF69B4">(</span><span class="token parameter" style="color:#FFB86C">item</span><span class="token punctuation" style="color:#FF69B4">)</span><span class="token plain"> </span><span class="token arrow operator" style="color:#FF69B4">=&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:#FF69B4">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#dddddd"><span class="token plain">      </span><span class="token keyword" style="color:#FF69B4">this</span><span class="token punctuation" style="color:#FF69B4">.</span><span class="token property-access" style="color:#8BE9FD">requester</span><span class="token punctuation" style="color:#FF69B4">.</span><span class="token method function property-access" style="color:#8BE9FD">requestItem</span><span class="token punctuation" style="color:#FF69B4">(</span><span class="token plain">item</span><span class="token punctuation" style="color:#FF69B4">)</span><span class="token punctuation" style="color:#FF69B4">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#dddddd"><span class="token plain">    </span><span class="token punctuation" style="color:#FF69B4">}</span><span class="token punctuation" style="color:#FF69B4">)</span><span class="token punctuation" style="color:#FF69B4">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#dddddd"><span class="token plain">  </span><span class="token punctuation" style="color:#FF69B4">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#dddddd"><span class="token plain"></span><span class="token punctuation" style="color:#FF69B4">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#dddddd"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#dddddd"><span class="token plain"></span><span class="token comment" style="color:#737373">// HTTP è¯·æ±‚</span><span class="token plain"></span><br></span><span class="token-line" style="color:#dddddd"><span class="token plain"></span><span class="token keyword" style="color:#FF69B4">class</span><span class="token plain"> </span><span class="token class-name" style="color:#00bfff">InventoryRequesterHTTP</span><span class="token plain"> </span><span class="token punctuation" style="color:#FF69B4">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#dddddd"><span class="token plain">  </span><span class="token function" style="color:#00E673">constructor</span><span class="token punctuation" style="color:#FF69B4">(</span><span class="token punctuation" style="color:#FF69B4">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#FF69B4">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#dddddd"><span class="token plain">    </span><span class="token keyword" style="color:#FF69B4">this</span><span class="token punctuation" style="color:#FF69B4">.</span><span class="token constant" style="color:#BD93F9">REQ_METHODS</span><span class="token plain"> </span><span class="token operator" style="color:#FF69B4">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#FF69B4">[</span><span class="token string" style="color:#C3E88D">&#x27;HTTP&#x27;</span><span class="token punctuation" style="color:#FF69B4">]</span><span class="token punctuation" style="color:#FF69B4">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#dddddd"><span class="token plain">  </span><span class="token punctuation" style="color:#FF69B4">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#dddddd"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#dddddd"><span class="token plain">  </span><span class="token function" style="color:#00E673">requestItem</span><span class="token punctuation" style="color:#FF69B4">(</span><span class="token parameter" style="color:#FFB86C">item</span><span class="token punctuation" style="color:#FF69B4">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#FF69B4">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#dddddd"><span class="token plain">    </span><span class="token comment" style="color:#737373">// ...</span><span class="token plain"></span><br></span><span class="token-line" style="color:#dddddd"><span class="token plain">  </span><span class="token punctuation" style="color:#FF69B4">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#dddddd"><span class="token plain"></span><span class="token punctuation" style="color:#FF69B4">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#dddddd"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#dddddd"><span class="token plain"></span><span class="token comment" style="color:#737373">// webSocket è¯·æ±‚</span><span class="token plain"></span><br></span><span class="token-line" style="color:#dddddd"><span class="token plain"></span><span class="token keyword" style="color:#FF69B4">class</span><span class="token plain"> </span><span class="token class-name" style="color:#00bfff">InventoryRequesterWS</span><span class="token plain"> </span><span class="token punctuation" style="color:#FF69B4">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#dddddd"><span class="token plain">  </span><span class="token function" style="color:#00E673">constructor</span><span class="token punctuation" style="color:#FF69B4">(</span><span class="token punctuation" style="color:#FF69B4">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#FF69B4">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#dddddd"><span class="token plain">    </span><span class="token keyword" style="color:#FF69B4">this</span><span class="token punctuation" style="color:#FF69B4">.</span><span class="token constant" style="color:#BD93F9">REQ_METHODS</span><span class="token plain"> </span><span class="token operator" style="color:#FF69B4">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#FF69B4">[</span><span class="token string" style="color:#C3E88D">&#x27;WS&#x27;</span><span class="token punctuation" style="color:#FF69B4">]</span><span class="token punctuation" style="color:#FF69B4">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#dddddd"><span class="token plain">  </span><span class="token punctuation" style="color:#FF69B4">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#dddddd"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#dddddd"><span class="token plain">  </span><span class="token function" style="color:#00E673">requestItem</span><span class="token punctuation" style="color:#FF69B4">(</span><span class="token parameter" style="color:#FFB86C">item</span><span class="token punctuation" style="color:#FF69B4">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#FF69B4">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#dddddd"><span class="token plain">    </span><span class="token comment" style="color:#737373">// ...</span><span class="token plain"></span><br></span><span class="token-line" style="color:#dddddd"><span class="token plain">  </span><span class="token punctuation" style="color:#FF69B4">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#dddddd"><span class="token plain"></span><span class="token punctuation" style="color:#FF69B4">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#dddddd"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#dddddd"><span class="token plain"></span><span class="token comment" style="color:#737373">// é€šè¿‡ä¾èµ–æ³¨å…¥çš„æ–¹å¼å°†è¯·æ±‚æ¨¡å—è§£è€¦ï¼Œè¿™æ ·æˆ‘ä»¬å°±å¯ä»¥å¾ˆè½»æ˜“çš„æ›¿æ¢æˆ webSocket è¯·æ±‚ã€‚</span><span class="token plain"></span><br></span><span class="token-line" style="color:#dddddd"><span class="token plain"></span><span class="token keyword" style="color:#FF69B4">const</span><span class="token plain"> inventoryTracker </span><span class="token operator" style="color:#FF69B4">=</span><span class="token plain"> </span><span class="token keyword" style="color:#FF69B4">new</span><span class="token plain"> </span><span class="token class-name" style="color:#00bfff">InventoryTracker</span><span class="token punctuation" style="color:#FF69B4">(</span><span class="token punctuation" style="color:#FF69B4">[</span><span class="token string" style="color:#C3E88D">&#x27;apples&#x27;</span><span class="token punctuation" style="color:#FF69B4">,</span><span class="token plain"> </span><span class="token string" style="color:#C3E88D">&#x27;bananas&#x27;</span><span class="token punctuation" style="color:#FF69B4">]</span><span class="token punctuation" style="color:#FF69B4">,</span><span class="token plain"> </span><span class="token keyword" style="color:#FF69B4">new</span><span class="token plain"> </span><span class="token class-name" style="color:#00bfff">InventoryRequesterHTTP</span><span class="token punctuation" style="color:#FF69B4">(</span><span class="token punctuation" style="color:#FF69B4">)</span><span class="token punctuation" style="color:#FF69B4">)</span><span class="token punctuation" style="color:#FF69B4">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#dddddd"><span class="token plain">inventoryTracker</span><span class="token punctuation" style="color:#FF69B4">.</span><span class="token method function property-access" style="color:#8BE9FD">requestItems</span><span class="token punctuation" style="color:#FF69B4">(</span><span class="token punctuation" style="color:#FF69B4">)</span><span class="token punctuation" style="color:#FF69B4">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#dddddd"><span class="token plain" style="display:inline-block"></span><br></span></code></pre><button type="button" aria-label="å¤åˆ¶ä»£ç åˆ°å‰ªè´´æ¿" class="copyButton_Ue-o clean-btn">å¤åˆ¶</button></div></div><h2 class="anchor anchorWithHideOnScrollNavbar_3R7-" id="ä¾èµ–æ³¨di">ä¾èµ–æ³¨â¼ŠDI<a aria-hidden="true" class="hash-link" href="#ä¾èµ–æ³¨di" title="æ ‡é¢˜çš„ç›´æ¥é“¾æ¥">â€‹</a></h2><p>ä¾èµ–æ³¨â¼Šï¼ˆDependency Injectionï¼‰ä¸ºâ¼€ä¸ªâ½…æ³•åº”è¯¥éµä»â€œä¾èµ–äºæŠ½è±¡â½½ä¸æ˜¯â¼€ä¸ªå®ä¾‹â€ çš„æ¦‚å¿µã€‚ä¾èµ–æ³¨â¼Šæ˜¯è¯¥åŸåˆ™çš„â¼€ç§å®ç°â½…å¼ã€‚</p><ul><li><p><strong>ä¾èµ–æ³¨â¼Š</strong>: å½“æŸä¸ªâ»†â¾Šè¦å¦â¼€ä¸ªâ»†â¾ŠååŠ©æ—¶ï¼Œé€šå¸¸ç”±è°ƒâ½¤è€…æ¥åˆ›å»ºè¢«è°ƒâ½¤è€…çš„å®ä¾‹ã€‚ç°åœ¨åˆ›å»ºå®ä¾‹ç”±å®¹å™¨æ¥å®Œæˆç„¶åæ³¨â¼Šè°ƒâ½¤è€…ã€‚</p></li><li><p><strong>æ³¨â¼Šè¿‡ç¨‹</strong>: å¦‚æœéœ€è¦è°ƒâ½¤å¦â¼€ä¸ªå¯¹è±¡ååŠ©æ—¶ï¼Œâ½†é¡»åœ¨ä»£ç ä¸­åˆ›å»ºè¢«è°ƒâ½¤è€…ï¼Œâ½½æ˜¯ <strong>ä¾èµ–</strong> äºå¤–éƒ¨çš„ <strong>æ³¨â¼Š</strong></p></li><li><p><strong>ä¸¤ç§â½…å¼</strong>: è®¾å€¼æ³¨â¼Šã€æ„é€ æ³¨â¼Š</p></li></ul><h2 class="anchor anchorWithHideOnScrollNavbar_3R7-" id="æ§åˆ¶åè½¬ioc">æ§åˆ¶åè½¬IOC<a aria-hidden="true" class="hash-link" href="#æ§åˆ¶åè½¬ioc" title="æ ‡é¢˜çš„ç›´æ¥é“¾æ¥">â€‹</a></h2><p>æ§åˆ¶åè½¬ï¼ˆInversion of Controlï¼‰ï¼ŒIoCå¯ä»¥è®¤ä¸ºæ˜¯â¼€ç§å…¨æ–°çš„è®¾è®¡æ¨¡å¼ï¼Œä½†æ˜¯ç†è®ºå’Œæ—¶é—´æˆç†Ÿç›¸å¯¹è¾ƒæ™šã€‚</p><h3 class="anchor anchorWithHideOnScrollNavbar_3R7-" id="ä»€ä¹ˆæ˜¯æ§åˆ¶åè½¬">ä»€ä¹ˆæ˜¯æ§åˆ¶åè½¬<a aria-hidden="true" class="hash-link" href="#ä»€ä¹ˆæ˜¯æ§åˆ¶åè½¬" title="æ ‡é¢˜çš„ç›´æ¥é“¾æ¥">â€‹</a></h3><p>æ§åˆ¶åè½¬ï¼ˆInversion of Controlï¼Œç¼©å†™ä¸ºIoCï¼‰ï¼Œæ˜¯â¾¯å‘å¯¹è±¡ç¼–ç¨‹ä¸­çš„â¼€ç§è®¾è®¡åŸåˆ™ï¼Œå¯ä»¥â½¤æ¥å‡ä½è®¡ç®—æœºä»£ç ä¹‹é—´çš„è€¦åˆåº¦ã€‚å…¶ä¸­æœ€å¸¸â»…çš„â½…å¼å«åšä¾èµ–æ³¨â¼Šï¼ˆDependency Injectionï¼Œç®€ç§°DIï¼‰ï¼Œè¿˜æœ‰â¼€ç§â½…å¼å«â€œä¾èµ–æŸ¥æ‰¾â€ï¼ˆDependency Lookupï¼‰ã€‚é€šè¿‡æ§åˆ¶åè½¬ï¼Œå¯¹è±¡åœ¨è¢«åˆ›å»ºçš„æ—¶å€™ï¼Œç”±â¼€ä¸ªè°ƒæ§ç³»ç»Ÿå†…æ‰€æœ‰å¯¹è±¡çš„å¤–ç•Œå®ä½“ï¼Œå°†å…¶æ‰€ä¾èµ–çš„å¯¹è±¡çš„å¼•â½¤ä¼ é€’ç»™å®ƒã€‚ä¹Ÿå¯ä»¥è¯´ï¼Œä¾èµ–è¢«æ³¨â¼Šåˆ°å¯¹è±¡ä¸­ã€‚</p><table><thead><tr><th align="center"><img alt="no_use_ioc" src="/assets/images/no_use_ioc-d93ad7cd107f528e3a7f0064a00fe4e3.png"></th><th align="center"><img alt="use_ioc" src="/assets/images/use_ioc-d57ab60af1f40a5d21e5fc57e060171b.png"></th></tr></thead></table><h3 class="anchor anchorWithHideOnScrollNavbar_3R7-" id="æ§åˆ¶åè½¬æ–¹å¼">æ§åˆ¶åè½¬æ–¹å¼<a aria-hidden="true" class="hash-link" href="#æ§åˆ¶åè½¬æ–¹å¼" title="æ ‡é¢˜çš„ç›´æ¥é“¾æ¥">â€‹</a></h3><p><strong>ä¾èµ–æŸ¥æ‰¾</strong>ï¼šå®¹å™¨æä¾›å›è°ƒæ¥å£å’Œä¸Šä¸‹æ–‡æ¡ä»¶ç»™ç»„ä»¶</p><p><strong>ä¾èµ–æ³¨å…¥</strong>ï¼šç»„ä»¶ä¸åšå®šä½æŸ¥è¯¢ï¼Œåª æä¾›æ™®é€šçš„æ–¹æ³•è®©å®¹å™¨å»å†³å®šä¾èµ–å…³ç³»ã€‚</p><p>C# ä¸­</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly cs"><pre tabindex="0" class="prism-code language-cs codeBlock_23N8 thin-scrollbar" style="color:#dddddd;background-color:#24272a"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#dddddd"><span class="token plain">//IoCå®¹å™¨ï¼Œå®ƒå°±æ˜¯ä¸€ä¸ªåˆ›å»ºå·¥å‚ï¼Œä½ è¦ä»€ä¹ˆå¯¹è±¡ï¼Œå®ƒå°±ç»™ä½ ä»€ä¹ˆå¯¹è±¡ï¼Œæœ‰äº†IoCå®¹å™¨ï¼Œä¾èµ–å…³ç³»å°±å˜äº†ï¼Œ</span><br></span><span class="token-line" style="color:#dddddd"><span class="token plain">//åŸå…ˆçš„ä¾èµ–å…³ç³»å°±æ²¡äº†ï¼Œå®ƒä»¬éƒ½ä¾èµ–IoCå®¹å™¨äº†ï¼Œé€šè¿‡IoCå®¹å™¨æ¥å»ºç«‹å®ƒä»¬ä¹‹é—´çš„å…³ç³»ã€‚</span><br></span><span class="token-line" style="color:#dddddd"><span class="token plain">//é€šè¿‡åå°„æ¥åˆ›å»ºï¼ŒæŠŠå…·ä½“çš„æ–‡ä»¶åå†™åœ¨é…ç½®æ–‡ä»¶é‡Œï¼Œè¿™æ—¶å€™å®¢æˆ·ç«¯ä»£ç ä¹Ÿä¸ç”¨å˜äº†ï¼Œåªéœ€è¦æ”¹é…ç½®æ–‡ä»¶å°±å¥½äº†ï¼Œç¨³å®šæ€§åˆæœ‰äº†æé«˜ï¼Œå¦‚ä¸‹ï¼š</span><br></span><span class="token-line" style="color:#dddddd"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#dddddd"><span class="token plain">public class MediaFile {</span><br></span><span class="token-line" style="color:#dddddd"><span class="token plain">    public void PlayMedia() {</span><br></span><span class="token-line" style="color:#dddddd"><span class="token plain">        IMediaFile _mtype = Assembly.Load(ConfigurationManager.AppSettings[&quot;AssemName&quot;]).CreateInstance(ConfigurationManager.AppSettings[&quot;MediaName&quot;]);</span><br></span><span class="token-line" style="color:#dddddd"><span class="token plain">        IPlayer _player = Assembly.Load(ConfigurationManager.AppSettings[&quot;AssemName&quot;]).CreateInstance(ConfigurationManager.AppSettings[&quot;PlayerName&quot;]);</span><br></span><span class="token-line" style="color:#dddddd"><span class="token plain">        _player.Play(_mtype);</span><br></span><span class="token-line" style="color:#dddddd"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#dddddd"><span class="token plain">}</span><br></span></code></pre><button type="button" aria-label="å¤åˆ¶ä»£ç åˆ°å‰ªè´´æ¿" class="copyButton_Ue-o clean-btn">å¤åˆ¶</button></div></div><h2 class="anchor anchorWithHideOnScrollNavbar_3R7-" id="å‘åˆ‡ç¼–ç¨‹aop">â¾¯å‘åˆ‡â¾¯ç¼–ç¨‹AOP<a aria-hidden="true" class="hash-link" href="#å‘åˆ‡ç¼–ç¨‹aop" title="æ ‡é¢˜çš„ç›´æ¥é“¾æ¥">â€‹</a></h2><p>åœ¨è½¯ä»¶ä¸šï¼ŒAOPä¸ºAspect Oriented Programmingçš„ç¼©å†™ï¼Œæ„ä¸ºï¼šâ¾¯å‘åˆ‡â¾¯ç¼–ç¨‹ï¼Œé€šè¿‡é¢„ç¼–è¯‘â½…å¼å’Œè¿â¾æœŸåŠ¨æ€ä»£ç†å®ç°ç¨‹åºåŠŸèƒ½çš„ç»Ÿâ¼€ç»´æŠ¤çš„â¼€ç§æŠ€æœ¯ã€‚AOPæ˜¯OOPçš„å»¶ç»­ï¼Œæ˜¯è½¯ä»¶å¼€å‘ä¸­çš„â¼€ä¸ªçƒ­ç‚¹ï¼Œä¹Ÿæ˜¯Springæ¡†æ¶ä¸­çš„â¼€ä¸ªé‡è¦å†…å®¹ï¼Œæ˜¯å‡½æ•°å¼ç¼–ç¨‹çš„â¼€ç§è¡â½£èŒƒå‹ã€‚åˆ©â½¤AOPå¯ä»¥å¯¹ä¸šåŠ¡é€»è¾‘çš„å„ä¸ªéƒ¨åˆ†è¿›â¾éš”ç¦»ï¼Œä»â½½ä½¿å¾—ä¸šåŠ¡é€»è¾‘å„éƒ¨åˆ†ä¹‹é—´çš„è€¦åˆåº¦é™ä½ï¼Œæâ¾¼ç¨‹åºçš„å¯é‡â½¤æ€§ï¼ŒåŒæ—¶æâ¾¼äº†å¼€å‘çš„æ•ˆç‡</p><h3 class="anchor anchorWithHideOnScrollNavbar_3R7-" id="åŸºæœ¬æ¦‚å¿µ">åŸºæœ¬æ¦‚å¿µ<a aria-hidden="true" class="hash-link" href="#åŸºæœ¬æ¦‚å¿µ" title="æ ‡é¢˜çš„ç›´æ¥é“¾æ¥">â€‹</a></h3><p>AOPå®Œå–„springçš„ä¾èµ–æ³¨â¼Šï¼ˆDIï¼‰â¾¯å‘å¯¹è±¡ç¼–ç¨‹å°†ç¨‹åºåˆ†è§£æˆå„ä¸ªå±‚æ¬¡çš„å¯¹è±¡ï¼Œâ¾¯å‘åˆ‡â¾¯ç¼–ç¨‹å°†ç¨‹åºè¿â¾è¿‡ç¨‹åˆ†è§£æˆå„ä¸ªåˆ‡â¾¯ã€‚</p><h3 class="anchor anchorWithHideOnScrollNavbar_3R7-" id="filter">Filter<a aria-hidden="true" class="hash-link" href="#filter" title="æ ‡é¢˜çš„ç›´æ¥é“¾æ¥">â€‹</a></h3><p>Filterï¼ˆè¿‡æ»¤å™¨ï¼‰ä¹Ÿæ˜¯â¼€ç§AOPAå®ƒåˆ©â½¤â¼€ç§ç§°ä¸º&quot;æ¨ªåˆ‡&quot;çš„æŠ€æœ¯ï¼Œå‰–è§£å¼€å°è£…çš„å¯¹è±¡å†…éƒ¨ï¼Œå¹¶å°†é‚£äº›å½±å“äº†å¤šä¸ªç±»çš„å…¬å…±â¾ä¸ºå°è£…åˆ°â¼€ä¸ªå¯é‡â½¤æ¨¡å—ï¼Œå¹¶å°†å…¶å‘½åä¸º&quot;Aspect&quot;ï¼Œå³åˆ‡â¾¯ã€‚æ‰€è°“&quot;åˆ‡â¾¯&quot;</p><h3 class="anchor anchorWithHideOnScrollNavbar_3R7-" id="ä¼˜ç‚¹">ä¼˜ç‚¹<a aria-hidden="true" class="hash-link" href="#ä¼˜ç‚¹" title="æ ‡é¢˜çš„ç›´æ¥é“¾æ¥">â€‹</a></h3><p>AOPçš„å¥½å¤„å°±æ˜¯ä½ åªéœ€è¦â¼²ä½ çš„æ­£äº‹ï¼Œå…¶å®ƒäº‹æƒ…åˆ«â¼ˆå¸®ä½ â¼²ã€‚åœ¨ä½ è®¿é—®æ•°æ®åº“ä¹‹å‰ï¼Œâ¾ƒåŠ¨å¸®ä½ å¼€å¯äº‹åŠ¡ï¼Œå½“ä½ è®¿é—®æ•°æ®åº“ç»“æŸä¹‹åï¼Œâ¾ƒåŠ¨å¸®ä½ æäº¤/å›æ»šäº‹åŠ¡ï¼</p></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="theme-doc-footer-edit-meta-row row"><div class="col"><a href="https://github.com/HondryTravis/Blog/tree/master/packages/docs/thinking/aop.md" target="_blank" rel="noreferrer noopener" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_2_ui" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>ç¼–è¾‘æ­¤é¡µ</a></div><div class="col lastUpdated_13-_"><span class="theme-last-updated">æœ€å<!-- -->ç”± <b>travis</b> <!-- -->äº <b><time datetime="2022-12-06T11:14:09.000Z">2022/12/6</time></b> <!-- -->æ›´æ–°</span></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="æ–‡æ¡£åˆ†é¡µå¯¼èˆª"><div class="pagination-nav__item"><a class="pagination-nav__link" href="/docs/linux/linux_centos"><div class="pagination-nav__sublabel">ä¸Šä¸€é¡µ</div><div class="pagination-nav__label">Â« <!-- -->CentOS 7</div></a></div><div class="pagination-nav__item pagination-nav__item--next"><a class="pagination-nav__link" href="/docs/thinking/functional_programming"><div class="pagination-nav__sublabel">ä¸‹ä¸€é¡µ</div><div class="pagination-nav__label">å‡½æ•°å¼ç¼–ç¨‹<!-- --> Â»</div></a></div></nav></div></div><div class="col col--3"><div class="tableOfContents_35-E thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#ç¼–ç¨‹æ€æƒ³é€æ­¥æå‡" class="table-of-contents__link toc-highlight">ç¼–ç¨‹æ€æƒ³é€æ­¥æå‡</a></li><li><a href="#solidè®¾è®¡åŸåˆ™" class="table-of-contents__link toc-highlight">SOLIDè®¾è®¡åŸåˆ™</a><ul><li><a href="#å•åŠŸèƒ½åŸåˆ™--s" class="table-of-contents__link toc-highlight">å•â¼€åŠŸèƒ½åŸåˆ™ | S</a></li><li><a href="#å¼€é—­åŸåˆ™--o" class="table-of-contents__link toc-highlight">å¼€é—­åŸåˆ™ | O</a></li><li><a href="#æ›¿æ¢åŸåˆ™--l" class="table-of-contents__link toc-highlight">â¾¥â½’æ›¿æ¢åŸåˆ™ | L</a></li><li><a href="#æ¥éš”ç¦»åŸåˆ™--i" class="table-of-contents__link toc-highlight">æ¥â¼éš”ç¦»åŸåˆ™ | I</a></li><li><a href="#ä¾èµ–å€’ç½®åè½¬åŸåˆ™--d" class="table-of-contents__link toc-highlight">ä¾èµ–å€’ç½®/åè½¬åŸåˆ™ | D</a></li></ul></li><li><a href="#ä¾èµ–æ³¨di" class="table-of-contents__link toc-highlight">ä¾èµ–æ³¨â¼ŠDI</a></li><li><a href="#æ§åˆ¶åè½¬ioc" class="table-of-contents__link toc-highlight">æ§åˆ¶åè½¬IOC</a><ul><li><a href="#ä»€ä¹ˆæ˜¯æ§åˆ¶åè½¬" class="table-of-contents__link toc-highlight">ä»€ä¹ˆæ˜¯æ§åˆ¶åè½¬</a></li><li><a href="#æ§åˆ¶åè½¬æ–¹å¼" class="table-of-contents__link toc-highlight">æ§åˆ¶åè½¬æ–¹å¼</a></li></ul></li><li><a href="#å‘åˆ‡ç¼–ç¨‹aop" class="table-of-contents__link toc-highlight">â¾¯å‘åˆ‡â¾¯ç¼–ç¨‹AOP</a><ul><li><a href="#åŸºæœ¬æ¦‚å¿µ" class="table-of-contents__link toc-highlight">åŸºæœ¬æ¦‚å¿µ</a></li><li><a href="#filter" class="table-of-contents__link toc-highlight">Filter</a></li><li><a href="#ä¼˜ç‚¹" class="table-of-contents__link toc-highlight">ä¼˜ç‚¹</a></li></ul></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">å¿«é€Ÿäº†è§£</div><ul class="footer__items"><li class="footer__item"><a class="footer__link-item" href="/docs/performance/page_performance_index">å¦‚ä½•ç›‘æ§é¡µé¢æ€§èƒ½æŒ‡æ ‡</a></li><li class="footer__item"><a class="footer__link-item" href="/docs/thinking/design_patterns">è®¾è®¡æ¨¡å¼</a></li><li class="footer__item"><a class="footer__link-item" href="/docs/thinking/functional_programming">å‡½æ•°å¼ç¼–ç¨‹</a></li></ul></div><div class="col footer__col"><div class="footer__title">å­¦ä¹ </div><ul class="footer__items"><li class="footer__item"><a class="footer__link-item" href="/algorithm/">ç®—æ³•</a></li></ul></div><div class="col footer__col"><div class="footer__title">å¼€æºè´¡çŒ®</div><ul class="footer__items"><li class="footer__item"><a class="footer__link-item" href="/open_source/cli/tscli">tscli</a></li><li class="footer__item"><a class="footer__link-item" href="/open_source/github/indexeddb">Indexeddb</a></li><li class="footer__item"><a class="footer__link-item" href="/open_source/github/tinydb_docapi">TinyDB</a></li><li class="footer__item"><a class="footer__link-item" href="/open_source/vscode/Simple-dark">Simple dark</a></li><li class="footer__item"><a href="https://github.com/HondryTravis/xs-docs" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>xs-doc<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_3J9K"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li><li class="footer__item"><a href="https://github.com/myliang/x-spreadsheet" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>x-spreadsheet<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_3J9K"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li></ul></div><div class="col footer__col"><div class="footer__title">è”ç³»æ–¹å¼</div><ul class="footer__items"><li class="footer__item"><a class="footer__link-item" href="/docs/contact">é‚®ç®± | è”ç³»æ–¹å¼</a></li></ul></div><div class="col footer__col"><div class="footer__title">å‹æƒ…é“¾æ¥</div><ul class="footer__items"><li class="footer__item"><a href="https://kalacloud.com" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>å¡æ‹‰äº‘ä½ä»£ç å·¥å…·<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_3J9K"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">AGPL-3.0 Licensed | Copyright Â© 2020-present HondryTravis, Inc. Built with Docusaurus.</div></div></div></footer></div>
<script src="/assets/js/runtime~main.261a0b30.js"></script>
<script src="/assets/js/main.d8aec2c2.js"></script>
</body>
</html>